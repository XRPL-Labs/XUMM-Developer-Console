(function(e){function t(t){for(var s,n,o=t[0],c=t[1],l=t[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var p=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"052b":function(e,t,a){},"0543":function(e,t,a){"use strict";a("1b8e")},1:function(e,t){},"1b22":function(e,t,a){"use strict";a("bbc6")},"1b8e":function(e,t,a){},2:function(e,t){},"25b3":function(e,t,a){"use strict";a("462d")},2702:function(e,t,a){},"2aae":function(e,t,a){},3:function(e,t){},"31a1":function(e,t,a){},3494:function(e,t,a){"use strict";a("4898")},3618:function(e,t,a){},4:function(e,t){},"462d":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id="4678"},4898:function(e,t,a){},5558:function(e,t,a){"use strict";a("5ae5")},"555a":function(e,t,a){e.exports=a.p+"img/icon.1e58ec35.png"},"55e1":function(e,t,a){"use strict";a("a03d")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=a("8c4f"),i=(a("7f7f"),function(){var e=this,t=e._self._c;return t("a-layout",{staticClass:"h100",attrs:{id:"components-layout"}},[e.isMobile?t("div",{attrs:{id:"mobile"}},[t("img",{staticClass:"logo-icon rounded mb-1",attrs:{src:a("555a")}}),t("h1",{staticClass:"py-0 my-0"},[t("b",[e._v("Xaman")])]),t("h6",{staticClass:"py-0 text-secondary"},[e._v("Developer Console")]),t("a-alert",{staticClass:"mt-5",attrs:{type:"warning"}},[t("div",{staticClass:"text-dark",attrs:{slot:"message"},slot:"message"},[t("b",[e._v("Screen real estate required")])]),t("div",{staticClass:"text-secondary",attrs:{slot:"description"},slot:"description"},[e._v(" The "),t("b",[e._v("Xaman")]),e._v(" Developer Console is not available on mobile devices. Please visit the Developer Console on your desktop. ")])])],1):e._e(),e.isMobile||!e.$auth.loading&&!e.$auth.loadingXumm&&e.$store.appsLoaded&&e.$auth.isAuthenticated||"FourOhFour"===e.$route.name?e._e():t("div",{staticClass:"h100"},[t("a-row",{staticClass:"h100 flex-center text-center"},[t("a-col",{attrs:{span:8,offset:0}},[t("img",{staticClass:"mb-2",attrs:{src:"/67028cc20682f3c6f7ec6161_Xaman%20Logo.svg"}}),t("h1",{staticClass:"h5 text-dark pb-4 text-center"},[e._v("Developer Console")]),t("a-button",{staticClass:"ml-1 text-white",attrs:{icon:"lock",loading:e.loggingInXumm,type:"primary",size:"large"},on:{click:e.loginXumm}},[t("b",{staticClass:"px-2"},[e._v("Sign in with Xaman")])])],1)],1)],1),e.isMobile||!e.$store.appsLoaded||e.$auth.loading||e.$auth.loadingXumm||!e.$auth.isAuthenticated||"FourOhFour"===e.$route.name?e._e():t("Container",[t("router-view")],1),e.isMobile||"FourOhFour"!==e.$route.name?e._e():t("router-view")],1)}),n=[],o=(a("96cf"),a("3b8d")),c=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"component_container"}},[e.fullLayout?t("a-layout-sider",[t("router-link",{attrs:{to:{name:e.$store.appsLoaded&&""!==e.$store.selectedApplication?"app-settings":"home",params:{appId:e.$store.selectedApplication}}}},[t("div",{staticClass:"menu-logo"})]),t("NavLeft")],1):e._e(),t("a-layout",[t("a-layout-header",[t("NavTop",[t("router-link",{attrs:{to:"/"}},[t("div",{staticClass:"menu-logo"})])],1)],1),e.$store.appsLoaded?t("a-layout-content",{style:e.routeLayoutStyle},[e._t("default")],2):e._e()],1)],1)},l=[],p=(a("8e6e"),a("bd86")),d=(a("ac6a"),a("456d"),function(){var e=this,t=e._self._c;return t("a-menu",{attrs:{theme:"dark",mode:"inline",selectedKeys:e.selectedMenuItem,defaultSelectedKeys:e.selectedMenuItem,"open-keys":e.openKeys},on:{"update:openKeys":function(t){e.openKeys=t},"update:open-keys":function(t){e.openKeys=t}}},[t("a-menu-item",{key:"app-settings"},[t("router-link",{attrs:{to:{name:"app-settings",params:{appId:e.$store.selectedApplication}}}},[t("a-icon",{attrs:{type:"setting"}}),t("span",{staticClass:"nav-text"},[e._v("Settings")])],1)],1),t("a-menu-item",{key:"app-logs"},[t("router-link",{attrs:{to:{name:"app-logs",params:{appId:e.$store.selectedApplication}}}},[t("a-icon",{attrs:{type:"profile"}}),t("span",{staticClass:"nav-text"},[e._v("Logs")])],1)],1),t("a-menu-item",{key:"app-payloads"},[t("router-link",{attrs:{to:{name:"app-payloads",params:{appId:e.$store.selectedApplication}}}},[t("a-icon",{attrs:{type:"build"}}),t("span",{staticClass:"nav-text"},[e._v("Payloads")])],1)],1),t("a-menu-item",{key:"app-xapp"},[t("router-link",{attrs:{to:{name:"app-xapp",params:{appId:e.$store.selectedApplication}}}},[t("a-icon",{attrs:{type:"code"}}),t("span",{staticClass:"nav-text"},[e._v("xApp")])],1)],1),e._e(),e.$store.isAppOwner?t("a-menu-item",{key:"permissions"},[t("router-link",{attrs:{to:{name:"permissions",params:{appId:e.$store.selectedApplication}}}},[t("a-icon",{attrs:{type:"team"}}),t("span",{staticClass:"nav-text"},[e._v("Permissions")])],1)],1):e._e(),t("a-sub-menu",{key:"dev"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("span",[e._v("Docs & Support")])]),t("a-menu-item",{key:"docs",on:{click:e.openDevDocs}},[t("a-icon",{attrs:{type:"book"}}),t("span",{staticClass:"nav-text"},[e._v("Developer Docs")])],1),t("a-menu-item",{key:"docs",on:{click:e.openDocs}},[t("a-icon",{attrs:{type:"code"}}),t("span",{staticClass:"nav-text"},[e._v("API Reference")])],1),t("a-menu-item",{key:"docs",on:{click:e.openQA}},[t("a-icon",{attrs:{type:"message"}}),t("span",{staticClass:"nav-text"},[e._v("Ask Questions")])],1)],1)],1)}),u=[],h={name:"NavLeft",data:function(){return{openKeys:[]}},computed:{selectedMenuItem:function(){var e="app-settings",t=this.$route.name||e;return[""===t||"home"===t?e:t]}},mounted:function(){},methods:{openQA:function(){window.open("https://xumm.readme.io/discuss")},openDevDocs:function(){window.open("https://docs.xumm.dev")},openDocs:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("GET","console/docs-jwt/"+this.$store.selectedApplication);case 2:t=e.sent,window.open(t.finalUrl,"_blank");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},m=h,f=(a("d531"),a("25b3"),a("2877")),v=Object(f["a"])(m,d,u,!1,null,"3dfbb7e7",null),g=v.exports,b=(a("28a5"),a("673e"),function(){var e=this,t=e._self._c;return t("a-menu",{attrs:{mode:"horizontal",selectable:!1}},[t("a-menu-item",{directives:[{name:"show",rawName:"v-show",value:""===e.$store.selectedApplication,expression:"$store.selectedApplication === ''"}],attrs:{id:"toplogo"}},[e._t("default")],2),"home"!==e.$router.currentRoute.name||""!==e.$store.selectedApplication?t("a-sub-menu",[""!==e.$store.selectedApplication?t("span",{staticClass:"submenu-title-wrapper",attrs:{slot:"title"},slot:"title"},[e.$store.app.details.application_auth0_owner!==e.$auth.user.sub?t("a-badge",{attrs:{dot:""}},[t("a-avatar",{style:{marginTop:"-3px",marginRight:"12px"},attrs:{shape:"square",src:e.$store.app.icon}})],1):t("a-avatar",{style:{marginTop:"-3px",marginRight:"12px"},attrs:{shape:"square",src:e.$store.app.icon}}),t("strong",[e._v(e._s(e.$store.app.name))])],1):e._e(),""===e.$store.selectedApplication&&Object.keys(e.$store.applications).length>0?t("span",{staticClass:"submenu-title-wrapper",style:{color:"#1823F8"},attrs:{slot:"title"},slot:"title"},[t("a-icon",{style:{fontSize:"1.5em",position:"relative",top:"0.125em"},attrs:{type:"experiment",theme:"twoTone",twoToneColor:"#1823F8"}}),e._v(" Select an app ")],1):e._e(),e._l(e.$store.applications,(function(a,s){return t("a-menu-item",{key:s,staticClass:"my-0",attrs:{disabled:e.$store.selectedApplication===s},on:{click:function(t){e.$store.selectedApplication=s}}},[a.details.application_auth0_owner!==e.$auth.user.sub?t("a-badge",{attrs:{dot:""}},[t("a-avatar",{style:e.avatarMargins,attrs:{shape:"square",src:a.icon}})],1):t("a-avatar",{style:e.avatarMargins,attrs:{shape:"square",src:a.icon}}),a.details.application_xapp_identifier?t("img",{staticClass:"float-right mt-3 ml-3 img-responsive",staticStyle:{height:"9px"},attrs:{src:"/icon_xapp.png",alt:""}}):e._e(),e._v(" "+e._s(a.name)+" ")],1)})),t("a-menu-item",{staticClass:"my-0",attrs:{disabled:"create-application"===e.$router.currentRoute.name},on:{click:function(t){return e.$router.push({name:"create-application"})}}},[t("a-avatar",{style:e.avatarMargins,attrs:{shape:"square",icon:"plus-circle"}}),e._v(" Create new application ")],1)],2):e._e(),t("a-sub-menu",[t("span",{staticClass:"submenu-title-wrapper",attrs:{slot:"title"},slot:"title"},[t("a-icon",{attrs:{type:"user"}}),e._v(e._s((e.$auth.user.nickname||e.$auth.user.name||"").slice(0,26).trim()+((e.$auth.user.nickname||e.$auth.user.name||"").length>26?"…":""))+" "),t("a-avatar",{style:{marginLeft:"15px"},attrs:{shape:"square",size:"large",src:e.$auth.user.picture}})],1),t("a-menu-item",{staticClass:"my-0",on:{click:function(t){"manage-app-settings"===e.$route.name||e.$router.push({name:"manage-app-settings"})}}},[t("a-icon",{attrs:{type:"setting"}}),e._v(" Xaman App settings ")],1),e.$auth.user.sub&&"auth0"===e.$auth.user.sub.split("|")[0]?t("a-menu-item",{staticClass:"my-0",on:{click:e.changePassword}},[t("a-icon",{attrs:{type:"lock"}}),e._v(" Change password ")],1):e._e(),t("a-menu-item",{staticClass:"my-0",on:{click:e.logout}},[t("a-icon",{attrs:{type:"right-square"}}),e._v(" Logout ")],1)],1)],1)}),_=[],y=a("bc3a"),x=a.n(y),w={name:"NavTop",data:function(){return{}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),computed:{avatarMargins:function(){return{marginTop:"-3px",marginLeft:"-8px",marginRight:"5px",borderRadius:"5px"}}},methods:{changePassword:function(){var e={client_id:this.$auth.auth0Client.options.client_id,email:this.$auth.user.email,connection:"Username-Password-Authentication"};this.$confirm({title:"Are you sure you want to reset your password?",content:"You will receive an e-mail with a password reset link within a few minutes.",okText:"Send e-mail",okType:"primary",onOk:function(){x.a.post("https://xumm.eu.auth0.com/dbconnections/change_password",e)}})},logout:function(){var e,t;null!==(e=this.$auth)&&void 0!==e&&null!==(t=e.user)&&void 0!==t&&t.isXumm?(console.log("Logout Xumm"),this.$xumm.logout()):(console.log("Logout 0auth"),this.$auth.logout({returnTo:window.location.origin}))}}},k=w,C=(a("1b22"),a("dadd"),Object(f["a"])(k,b,_,!1,null,"5730c540",null)),$=C.exports;function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={name:"Container",components:{NavLeft:g,NavTop:$},data:function(){return{}},computed:{fullLayout:function(){return this.$store.appsLoaded&&Object.keys(this.$store.applications).length>0&&""!==this.$store.selectedApplication},routeLayoutStyle:function(){var e={};return this.$route.meta.padding?j({padding:"12px 16px"},e):j({},e)}},mounted:function(){this.$auth.isAuthenticated},methods:{selectApp:function(e){this.$store.selectedApplication=e}}},O=S,R=(a("9ad6"),Object(f["a"])(O,c,l,!1,null,"a47d6c84",null)),P=R.exports,U=a("9029"),D={name:"AppContainer",components:{Container:P},computed:{isMobile:function(){return U["isMobile"]||this.windowWidth<920}},data:function(){return{loggingIn:!1,loggingInXumm:!1,windowWidth:window.innerWidth}},mounted:function(){var e=this,t=this.$createElement;window.addEventListener("resize",(function(){e.windowWidth=window.innerWidth})),this.$xumm.on("logout",(function(){e.$auth.isAuthenticated=!1,e.$auth.loading=!1,e.$auth.loadingXumm=!1,e.$auth.user={},"home"!==e.$router.currentRoute.name&&e.$router.push({name:"home"}),e.loggingIn=!1,e.loggingInXumm=!1,e.$store.appsLoaded=!1,e.$store.applications=[]})),this.$xumm.on("error",function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(s){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.loggingIn=!1,e.loggingInXumm=!1,e.$notification.open({key:"xumm_signin_error",message:function(){return t("span",["Could not Sign in with Xumm"])},description:function(){return t("span",[s.message])},placement:"topRight",duration:10});case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),this.$xumm.on("ready",(function(){e.$auth.loadingXumm=!1})),this.$xumm.on("success",Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$xumm.user.account.then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(a){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$auth.isAuthenticated||null!==(s=e.$auth.user)&&void 0!==s&&s.isXumm){t.next=24;break}return t.prev=1,t.t0=e.$store,t.next=5,e.$xumm.environment.bearer;case 5:return t.t1=t.sent,t.next=8,e.$auth.getTokenSilently();case 8:return t.t2=t.sent,t.t3={xummjwt:t.t1,auth0jwt:t.t2},t.next=12,t.t0.api.call(t.t0,"POST","console/migrate",t.t3);case 12:r=t.sent,console.log("Migrated",r),e.$auth.loading=!0,e.$auth.loadingXumm=!0,e.$auth.isAuthenticated=!1,e.$auth.user={},e.$auth.logout({returnTo:window.location.origin}),t.next=24;break;case 21:t.prev=21,t.t4=t["catch"](1),e.$message.error("Error migrating your applications"+(t.t4.reference?" (".concat(t.t4.reference,")"):""));case 24:console.log("Logged in",a),e.$auth.isAuthenticated=!0,e.$auth.$emit("ready"),e.$auth.loading=!1,e.$auth.loadingXumm=!1,e.$auth.user={isXumm:!0},e.$xumm.environment.jwt.then((function(t){return Object.assign(e.$auth.user,t)})),e.$xumm.environment.openid.then((function(t){return Object.assign(e.$auth.user,t)})),e.$nextTick((function(){return e.$router.app.$emit("auth-registered")}));case 33:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)}))))},methods:{login:function(){this.loggingIn=!0,this.$auth.loginWithRedirect()},loginXumm:function(){this.loggingInXumm=!0,this.$xumm.authorize()}}},E=D,I=(a("5558"),Object(f["a"])(E,i,n,!1,null,null,null)),T=I.exports,N=a("f23d"),F=(a("3aed"),a("7618"));function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={},M={appsLoaded:{resove:null,reject:null,promise:null}};M.appsLoaded.promise=new Promise((function(e,t){Object.assign(M.appsLoaded,{resolve:e,reject:t})}));var X=new s["a"]({data:function(){return{apiHasBeen200:!1,someProp:"test",selectedApplication:"",appsLoaded:!1,appsLoadedPromise:M.appsLoaded.promise,applications:{},sharedAccounts:[],appData:{"app-logs":{loading:!1,connected:!1,connection:null,data:[]},"app-payloads":{loading:!1,connected:!1,connection:null,data:[]},"user-tokens":{loading:!1,connected:!1,connection:null,data:[]}}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){q.router.app.$on("auth-registered",(function(){t.fetchApps().catch((function(e){console.log(e.message)}))}))}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{isAppOwner:function(){var e,t;return this.app.details.application_auth0_owner===(null===(e=this.$auth)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.sub)},apiEndpoint:function(){var e="https://xumm.app/api/v1/";return e},appsReady:function(){return this.appsLoaded&&""!==this.selectedApplication},appName:function(){return this.appsReady?this.app.name:""},app:function(){return this.appsReady?this.applications[this.selectedApplication]:{}}},watch:{appsLoaded:function(e){e&&M.appsLoaded.resolve(Object.keys(this.applications))},selectedApplication:function(e,t){if(Object.keys(q.router.currentRoute.meta).indexOf("appRequired")>-1&&q.router.currentRoute.meta.appRequired&&(console.log("Are at app details, changing to another app (still details)"),""!==this.selectedApplication&&(Object.keys(q.router.currentRoute.params).indexOf("appId")<0||q.router.currentRoute.params.appId!==this.selectedApplication))){var a=Object.assign(z({},q.router.currentRoute),{params:Object.assign(q.router.currentRoute.params,{appId:this.selectedApplication})});console.log("nr",a),q.router.push(a)}Object.keys(q.router.currentRoute.meta).indexOf("clearSelectedApp")>-1&&q.router.currentRoute.meta.clearSelectedApp&&""!==e&&""===t&&"home"!==q.router.currentRoute.name&&q.router.push({name:"home",params:{appId:e}})}},methods:{fetchApps:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(i.length>0&&void 0!==i[0])||i[0],e.next=3,this.api("get","console/known-shared-accounts");case 3:return a=e.sent,this.sharedAccounts=(null===a||void 0===a?void 0:a.accounts)||[],e.next=7,this.api("get","console/apps");case 7:return s=e.sent,"undefined"!==typeof s.applications&&(r={},s.applications.forEach((function(e){r[e.application_uuidv4]={name:e.application_name,icon:e.application_icon_url,details:e}})),this.$set(this,"applications",r),""!==this.selectedApplication&&"undefined"===typeof r[this.selectedApplication]&&(t=!1,this.$set(this,"selectedApplication",""),this.$nextTick((function(){"home"!==q.router.currentRoute.name&&q.router.push({name:"home"})})))),("undefined"===typeof t||t)&&1===Object.keys(this.applications).length&&(this.selectedApplication=Object.keys(this.applications)[0]),this.appsLoaded=!0,e.abrupt("return",this.applications);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),api:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,s){var r,i,n,o,c,l,p,d,u,h,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=(null===(r=this.$auth)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.isXumm)&&"console/migrate"!==a,!n){e.next=8;break}return e.next=5,this.$xumm.environment.bearer;case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.$auth.getTokenSilently();case 10:e.t0=e.sent;case 11:return o=e.t0,e.next=14,x()({method:t.trim().toLowerCase(),url:this.apiEndpoint+a,headers:{Authorization:"Bearer "+o},responseType:"json",data:"object"===Object(F["a"])(s)&&null!==s?s:null});case 14:return c=e.sent,l=c.data,p=c.status,200===p&&n&&(this.apiHasBeen200=!0),e.abrupt("return",l);case 21:throw e.prev=21,e.t1=e["catch"](0),e.t1.reference=null===e.t1||void 0===e.t1||null===(d=e.t1.response)||void 0===d||null===(u=d.data)||void 0===u||null===(h=u.error)||void 0===h?void 0:h.reference,e.t1.reference&&console.log("Error reference",e.t1.reference),f=null===e.t1||void 0===e.t1||null===(m=e.t1.response)||void 0===m?void 0:m.status,f&&(console.log("API HTTP code",f),this.apiHasBeen200&&401===f&&window.location.reload()),e.t1;case 28:case"end":return e.stop()}}),e,this,[[0,21]])})));function t(t,a,s){return e.apply(this,arguments)}return t}()}}),W={install:function(e,t){q.router=t.router,e.prototype.$store=X}},B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-container py-3"},[e.unverified?t("a-card",{staticClass:"no-apps bg-title"},[t("div",{attrs:{slot:"title"},slot:"title"},[t("a-icon",{staticClass:"d-inline-block mr-2",attrs:{type:"mail"}}),t("b",[e._v("Unverified")])],1),t("a-empty",[t("div",{attrs:{slot:"description"},slot:"description"},[e._v(" Please verify your e-mail address first. Check your mailbox ("),t("b",[e._v(e._s(e.$auth.user.email))]),e._v(") and click the "),t("code",[e._v("Verify your account")]),e._v(" button. ")]),e.$store.appsLoaded&&Object.keys(e.$store.applications).length<1?t("a-button",{attrs:{icon:"rocket",size:"large",type:"primary"},on:{click:function(t){return e.$auth.loginWithRedirect()}}},[e._v("I verified my e-mail address")]):e._e()],1)],1):e._e(),e.unverified?e._e():t("a-card",{staticClass:"no-apps bg-title",attrs:{loading:!e.$store.appsLoaded}},[e.$store.appsLoaded?e._e():t("div",{attrs:{slot:"title"},slot:"title"},[t("a-icon",{staticClass:"d-inline-block mr-2",attrs:{type:"loading",spin:""}}),t("b",[e._v("Loading applications")])],1),e.$store.appsLoaded&&Object.keys(e.$store.applications).length<1?t("div",{attrs:{slot:"title"},slot:"title"},[t("a-icon",{staticClass:"d-inline-block mr-2",attrs:{type:"layout"}}),t("b",[e._v("No application found")])],1):e._e(),t("a-empty",[e.$store.appsLoaded&&Object.keys(e.$store.applications).length>0&&""===e.$store.selectedApplication&&!e.$auth.user.isXumm?t("div",{staticClass:"mb-5",attrs:{slot:"description"},slot:"description"},[t("Migrate")],1):e._e(),e.$store.appsLoaded&&Object.keys(e.$store.applications).length>0&&""===e.$store.selectedApplication?t("span",{staticStyle:{color:"#1823F8"},attrs:{slot:"image"},slot:"image"},[t("a-icon",{staticClass:"d-block h1 mt-4",attrs:{twoToneColor:"#1823F8",type:"experiment",theme:"twoTone"}}),e._v(" Please select an application: ")],1):e._e(),e.$store.appsLoaded&&Object.keys(e.$store.applications).length>0&&""===e.$store.selectedApplication?t("div",{attrs:{slot:"description"},slot:"description"},[t("a-menu",{staticClass:"text-left",staticStyle:{border:"none"}},e._l(e.$store.applications,(function(a,s){return t("a-menu-item",{key:s,staticStyle:{border:"1px solid #f0f0f0","border-radius":"3px"},on:{click:function(t){e.$store.selectedApplication=s}}},[t("a-avatar",{style:{marginTop:"-3px",marginLeft:"-13px",marginRight:"5px",borderRadius:"4px"},attrs:{shape:"square",src:a.icon}}),a.details.application_xapp_identifier?t("img",{staticClass:"float-right mt-3 ml-2 img-responsive",staticStyle:{height:"9px"},attrs:{src:"/icon_xapp.png",alt:""}}):e._e(),e._v(" "+e._s(a.name)+" ")],1)})),1),t("div",{staticClass:"text-muted mt-4 mb-1"}),e.$auth.user.isXumm?t("a-button",{attrs:{size:"large",icon:"rocket",type:"primary",block:!0},on:{click:function(t){return e.$router.push({name:"create-application"})}}},[e._v("Create new application")]):e._e()],1):e._e(),e.$store.appsLoaded&&Object.keys(e.$store.applications).length<1?t("div",{attrs:{slot:"description"},slot:"description"},[e._v(" You don't own any "),t("b",[e._v("Xaman")]),e._v(" applications. ")]):e._e(),e.$auth.user.isXumm?t("div",[e.$store.appsLoaded&&Object.keys(e.$store.applications).length<1?t("a-button",{attrs:{icon:"rocket",size:"large",type:"primary"},on:{click:function(t){return e.$router.push({name:"create-application"})}}},[e._v("Create new application")]):e._e()],1):e._e(),e.$auth.user.isXumm?e._e():t("Migrate")],1)],1)],1)},H=[],Y=(a("4917"),function(){var e=this,t=e._self._c;return t("div",[e.$auth.user.isXumm?e._e():t("a-alert",{staticClass:"text-left",attrs:{type:"warning",showIcon:""}},[t("span",{attrs:{slot:"message"},slot:"message"},[t("b",[e._v("Warning!")]),t("br"),e._v(" You are signed in with a legacy account type (email or Github). You have to migrate your account to "),t("b",[e._v("Sign in with Xaman")]),e._v(". "),t("br"),t("a-button",{staticClass:"float-right mt-2",attrs:{type:"default"},on:{click:e.showDrawer}},[t("a-icon",{staticClass:"mr-2",attrs:{type:"smile"}}),t("strong",[e._v("Migrate account")])],1),t("div",{staticClass:"clearfix"})],1)]),t("a-drawer",{attrs:{title:"Sign in account migration",placement:"right",closable:!0,visible:e.visible,width:"400"},on:{close:e.onClose}},[t("p",[e._v(" The Xaman Developer Console is switching from email / Github sign in to "),t("b",[e._v("Sign in with Xaman")]),e._v(". ")]),t("p",[e._v(" After a migration period, we will add multi user access: you will be able to invite your team by r-address to sign in and manage one or more apps alongside of you. ")]),t("p",[t("b",[e._v("If you continue with the account migration, you will be presented a Xaman Sign in QR code. Scan the QR code and sign in with the account you would like to use, and all your apps will be migrated automatically.")])]),t("p",[e._v(" After migrating, the next time you simply sign in with Xaman. ")]),t("div",{staticClass:"text-center"},[t("a-button",{staticClass:"w-100 float-right mt-2",attrs:{type:"primary"},on:{click:function(t){return e.$xumm.authorize()}}},[t("a-icon",{staticClass:"mr-2",attrs:{type:"check"}}),t("strong",[e._v("Migrate now")])],1)],1)])],1)}),V=[],G={name:"Migrate",data:function(){return{visible:!1}},methods:{showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},onChange:function(e){this.placement=e.target.value}},mounted:function(){},computed:{},watch:{}},K=G,Q=Object(f["a"])(K,Y,V,!1,null,"0333080e",null),J=Q.exports,Z={name:"Home",components:{Migrate:J},data:function(){return{}},mounted:function(){this.possiblyRedirectToAppSettings()},computed:{unverified:function(){return"undefined"!==typeof this.$auth&&Object.keys(this.$auth.user).indexOf("email_verified")>-1&&!this.$auth.user.email_verified}},methods:{possiblyRedirectToAppSettings:function(){if(this.$store.appsLoaded&&""!==this.$store.selectedApplication){if(console.log('Moving on from "Home.vue"',{name:this.$router.currentRoute.name,query:this.$router.currentRoute.query}),"undefined"!==typeof this.$router.currentRoute.query.next){var e=this.$router.matcher.match({name:this.$router.currentRoute.query.next});if(e&&Object.keys(e).indexOf("name")>-1)return console.log("Next route (instead of app-settings)",e),void this.$router.push({name:e.name,params:{appId:this.$store.selectedApplication}})}this.$router.push({name:"app-settings",params:{appId:this.$store.selectedApplication}})}else this.$store.appsLoaded&&""===this.$store.selectedApplication&&1===Object.keys(this.$store.applications).length&&console.log("-- Only one app, do not autoselect @Home.vue")}},watch:{"$store.appsLoaded":function(){this.possiblyRedirectToAppSettings()},"$store.selectedApplication":function(){this.possiblyRedirectToAppSettings()}}},ee=Z,te=(a("9e7a"),Object(f["a"])(ee,B,H,!1,null,"2300670e",null)),ae=te.exports,se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center pt-4"},[t("img",{attrs:{src:"/logo/xumm-logo.svg",alt:"",width:"200"}}),e._m(0),t("p",{staticClass:"text-center pb-2"},[t("br"),e._v(" Use "),t("span",{staticClass:"label label-danger"},[e._v("Space")]),e._v(" to shoot and "),t("span",{staticClass:"label label-danger"},[e._v("←")]),e._v(" "),t("span",{staticClass:"label label-danger"},[e._v("→")]),e._v(" to move, or "),t("a-button",{attrs:{type:"danger",size:"small",id:"restart"}},[e._v("Restart the game")])],1),t("canvas",{attrs:{id:"space-invaders"}})])},re=[function(){var e=this,t=e._self._c;return t("h2",{staticClass:"mt-3 pb-0 mb-0"},[t("strong",[e._v("404")]),e._v(" Space Invadors destroyed this page!")])}],ie=(a("6c7b"),{name:"NotFound",data:function(){return{}},mounted:function(){this.$nextTick((function(){var e,t,a,s,r,i,n,o,c,l=20,p=25,d=0,u=0,h=p,m=[[1,5,7,11,13,17,19,23],[2,4,7,11,13,14,16,17,19,20,22,23],[2,4,7,11,13,15,17,19,21,23],[3,7,11,13,15,17,19,21,23],[2,4,7,11,13,17,19,23],[2,4,7,11,13,17,19,23],[1,5,8,9,10,13,17,19,23]],f=function(){this.level=-1,this.lost=!1,this.player=new g,this.invaders=[],this.invaderShots=[],void 0===c&&(c=setInterval((function(){for(d=0;d<s.invaders.length;d++)s.invaders[d].move()}),1e3-1.8*this.level))};f.prototype={update:function(){if(0===s.invaders.length){if(h+=1,h<p)return;this.level+=1,n-=.002,o+=10,s.invaders=w(),h=0}if(!this.lost)for(s.player.projectile.forEach((function(e){s.invaders.forEach((function(t){y(e,t)&&(t.destroy(),e.active=!1)}))})),this.invaderShots.forEach((function(e){y(e,s.player)&&s.player.destroy()})),d=0;d<s.invaders.length;d++)s.invaders[d].update();for(s.player.update(),d=0;d<s.invaderShots.length;d++)s.invaderShots[d].update();this.invaders=s.invaders.filter((function(e){return e.active}))},draw:function(){var e;if(this.lost?(t.fillStyle="rgb(240, 242, 245)",t.fillRect(0,0,a.width,a.height),t.font="55px proxima-nova, sans-serif",t.textAlign="center",t.fillStyle="black",t.fillText("You lost",a.width/2,a.height/2),t.font="20px proxima-nova, sans-serif",t.fillText("Points: "+u,a.width/2,a.height/2+30)):(t.clearRect(0,0,a.width,a.height),t.font="15px proxima-nova, sans-serif",t.textAlign="right",t.fillText("Points: "+u,a.width,a.height-12)),t.beginPath(),this.player.draw(),!this.lost)for(e=0;e<this.invaders.length;e++)this.invaders[e].draw();for(e=0;e<this.invaderShots.length;e++)this.invaderShots[e].draw();t.fill()},invadersBelow:function(e){return this.invaders.filter((function(t){return 0===Math.abs(e.coordinates.x-t.coordinates.x)&&t.coordinates.y>e.coordinates.y})).length>0}};var v=function(e){this.active=!0,this.coordinates=e,this.size={width:l,height:l},this.patrolX=0,this.speedX=o};v.prototype={update:function(){if(Math.random()>n&&!s.invadersBelow(this)){var e=new b({x:this.coordinates.x+this.size.width/2,y:this.coordinates.y+this.size.height-5},{x:0,y:2});s.invaderShots.push(e)}},draw:function(){this.active&&t.drawImage(r,this.coordinates.x,this.coordinates.y)},move:function(){this.patrolX<0||this.patrolX>100?(this.speedX=-this.speedX,this.patrolX+=this.speedX,this.coordinates.y+=this.size.height,this.coordinates.y+2*this.size.height>a.height&&(s.lost=!0)):(this.coordinates.x+=this.speedX,this.patrolX+=this.speedX)},destroy:function(){this.active=!1,u+=1}};var g=function(){this.active=!0,this.size={width:16,height:8},this.shooterHeat=-3,this.coordinates={x:a.width/2-this.size.width/2|0,y:a.height-2*this.size.height},this.projectile=[],this.keyboarder=new _};g.prototype={update:function(){for(var e=0;e<this.projectile.length;e++)this.projectile[e].update();if(this.projectile=this.projectile.filter((function(e){return e.active})),this.active)if(this.keyboarder.isDown(this.keyboarder.KEYS.LEFT)&&this.coordinates.x>0?this.coordinates.x-=2:this.keyboarder.isDown(this.keyboarder.KEYS.RIGHT)&&this.coordinates.x<a.width-this.size.width&&(this.coordinates.x+=2),this.keyboarder.isDown(this.keyboarder.KEYS.Space))if(this.shooterHeat+=1,this.shooterHeat<0){var t=new b({x:this.coordinates.x+this.size.width/2-1,y:this.coordinates.y-1},{x:0,y:-7});this.projectile.push(t)}else this.shooterHeat>12&&(this.shooterHeat=-3);else this.shooterHeat=-3},draw:function(){this.active&&(t.rect(this.coordinates.x,this.coordinates.y,this.size.width,this.size.height),t.rect(this.coordinates.x-2,this.coordinates.y+2,20,6),t.rect(this.coordinates.x+6,this.coordinates.y-4,4,4));for(var e=0;e<this.projectile.length;e++)this.projectile[e].draw()},destroy:function(){this.active=!1,s.lost=!0}};var b=function(e,t){this.active=!0,this.coordinates=e,this.size={width:3,height:3},this.velocity=t};b.prototype={update:function(){this.coordinates.x+=this.velocity.x,this.coordinates.y+=this.velocity.y,(this.coordinates.y>a.height||this.coordinates.y<0)&&(this.active=!1)},draw:function(){this.active&&t.rect(this.coordinates.x,this.coordinates.y,this.size.width,this.size.height)}};var _=function(){this.KEYS={LEFT:37,RIGHT:39,Space:32};var e,t=[37,39,32],a={};window.addEventListener("keydown",(function(s){for(e=0;e<t.length;e++)t[e]===s.keyCode&&(a[s.keyCode]=!0,s.preventDefault())})),window.addEventListener("keyup",(function(s){for(e=0;e<t.length;e++)t[e]===s.keyCode&&(a[s.keyCode]=!1,s.preventDefault())})),this.isDown=function(e){return!0===a[e]}};function y(e,t){return e.coordinates.x<t.coordinates.x+t.size.width&&e.coordinates.x+e.size.width>t.coordinates.x&&e.coordinates.y<t.coordinates.y+t.size.height&&e.coordinates.y+e.size.height>t.coordinates.y}function x(e){var t=[],a=0,s=Math.floor(e/i);if(s>=m.length)return[];for(var r=0;r<m[s].length;r++){for(var n=m[s][r]*i,o=0;o<i;o++)t[a+o]=n+o;a+=i}return t}function w(){var e=[],t=m.length*i;while(t--)for(var a=x(t),s=0;s<a.length;s++)e.push(new v({x:a[s]*l,y:t*l}));return e}var k=new Image;function C(){window.innerWidth>1200?(t.canvas.width=1200,t.canvas.height=500,a={width:1200,height:500},i=2):window.innerWidth>800?(t.canvas.width=900,t.canvas.height=600,a={width:900,height:600},i=2):(t.canvas.width=600,t.canvas.height=300,a={width:600,height:300},i=1),u=0,n=.999,o=20,h=p,s=new f}function $(){s.update(),s.draw(),requestAnimationFrame($)}k.onload=function(){r=document.createElement("canvas"),r.width=l,r.height=l,r.getContext("2d").drawImage(k,0,0),e=document.getElementById("space-invaders"),t=e.getContext("2d"),C(),$()},k.src="/404/invader.gif",window.addEventListener("resize",(function(){C()})),document.getElementById("restart").addEventListener("click",(function(){C()}))}))},methods:{}}),ne=ie,oe=(a("9524"),Object(f["a"])(ne,se,re,!1,null,"fc7b5ede",null)),ce=oe.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-container",class:{container:!e.editMode}},[e.editMode?e._e():t("div",[e.appDetails.created?e._e():t("h3",[e._v("Create application")]),!e.appDetails.created&&e.$auth.user.isXumm?t("p",[e._v(" To get access to the "),t("b",[e._v("Xaman")]),e._v(" API (to submit signing requests) you'll need an API key. Please enter some details below to register your application and get your API key. The information entered below will be visible to your users. ")]):e._e()]),e.appDetails.created?t("h3",[e._v("Application created")]):e._e(),e.appDetails.created?t("a-alert",{staticClass:"card bg-white",staticStyle:{"border-radius":"4px"},attrs:{type:"success",showIcon:""}},[t("span",{attrs:{slot:"message"},slot:"message"},[t("b",[e._v(e._s(e.appDetails.name))])]),t("span",{attrs:{slot:"description"},slot:"description"},[e._v(" Your app has been created. You can now start interacting with the "),t("b",[e._v("Xaman")]),e._v(" API. Your API keys are displayed below. "),t("b",{staticClass:"mt-3 text-danger"},[e._v(" Please copy this information and store your App Secret somewhere safe. You will need your App Secret when making calls to the "),t("b",[e._v("Xaman")]),e._v(" API. ")]),t("div",{staticClass:"mt-3"},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{span:12}},[t("a-card",{staticStyle:{"border-radius":"4px"},attrs:{title:"API Key",bordered:!0}},[t("code",{staticClass:"text-primary"},[t("b",[e._v(e._s(e.appDetails.uuidv4))])]),e._v("   "),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.appDetails.uuidv4,expression:"appDetails.uuidv4",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],attrs:{type:"dashed",size:"small"}},[t("a-icon",{attrs:{type:"copy"}}),e._v(" Copy")],1)],1)],1),t("a-col",{attrs:{span:12}},[t("a-card",{staticStyle:{"border-radius":"4px"},attrs:{title:"API Secret",bordered:!0}},[t("code",{staticClass:"text-primary"},[t("b",[e._v(e._s(e.appDetails.credentials.secret))])]),e._v("   "),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.appDetails.credentials.secret,expression:"appDetails.credentials.secret",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],attrs:{type:"dashed",size:"small"}},[t("a-icon",{attrs:{type:"copy"}}),e._v(" Copy")],1)],1)],1)],1)],1),t("p",{staticClass:"mt-4 mb-3 h6"},[e._v(" If you want to test the API with a curl request, just copy/paste the code below and run it in your terminal (Mac / Linux). You can find more info and examples in the "),t("a",{attrs:{href:"https://docs.xumm.dev/",target:"_blank"}},[t("b",[t("u",[e._v("docs")])])]),e._v(". ")]),t("a-card",{staticClass:"px-0 py-0",staticStyle:{"border-radius":"4px"},attrs:{title:"Sample commandline call using CURL",bordered:!0}},[t("div",{staticClass:"hljs-padding",attrs:{slot:"cover"},slot:"cover"},[t("highlight-code",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.curlCode,expression:"curlCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],staticClass:"mb-0 pb-0",staticStyle:{cursor:"pointer","border-bottom-left-radius":"4px","border-bottom-right-radius":"4px"},attrs:{lang:"bash"}},[e._v(" "+e._s(e.curlCode)+" ")])],1)]),t("br"),t("p",{staticClass:"h5"},[e._v("Please "),t("a",{attrs:{href:"https://docs.xumm.dev/",target:"_blank"}},[e._v("read the docs")]),e._v(" for more details about the API, how to call the API and delivering a payload (sign request) to your users.")])],1)]):e._e(),e.appDetails.created&&!e.editMode?t("div",[t("a-button",{staticClass:"mt-4 float-right",attrs:{disabled:!e.$store.appsLoaded,size:"large",type:"primary"},on:{click:function(t){e.$store.selectedApplication=e.appDetails.uuidv4}}},[t("span",[e._v("Open "),t("b",[e._v(e._s(e.appDetails.name))]),e._v(" "),t("a-icon",{attrs:{type:"arrow-right"}})],1)])],1):e._e(),e.$auth.user.isXumm||e.appDetails.created||e.editMode?e._e():t("Migrate"),e.appDetails.created||!e.$auth.user.isXumm&&!e.editMode?e._e():t("a-layout",{class:{"mt-5":!e.editMode},style:e.editMode?{backgroundColor:"transparent"}:{}},[t("a-layout-sider",{style:{width:"210px",maxWidth:"210px",flex:"0 0 210px",backgroundColor:"transparent"},attrs:{theme:"light"}},[t("a-form",{attrs:{layout:"vertical"}},[t("a-form-item",{attrs:{required:e.editMode,label:"App icon"}},[t("div",{style:e.uploadContainerStyle},[t("a-upload-dragger",{ref:"icon",staticClass:"avatar-uploader",style:e.uploadDraggerStyle,attrs:{multiple:!1,name:"upload",listType:"picture-card",showUploadList:!1,beforeUpload:e.beforeUpload}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.uploading>0,expression:"uploading > 0"}],staticStyle:{position:"absolute",top:"50px",left:"50px","border-radius":"80px",padding:"10px",background:"rgba(255,255,255,.5)"}},[t("a-icon",{staticStyle:{"font-size":"80px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:""===e.imageUrl,expression:"imageUrl === ''"}]},[t("a-icon",{staticStyle:{"font-size":"80px","margin-top":"30px",opacity:".5"},attrs:{type:"picture"}}),t("br"),t("div",{staticClass:"text-muted"},[e._v("Upload a square logo")])],1)])],1)])],1)],1),t("a-layout-content",{staticClass:"pl-2 overflow-visible"},[t("a-form",{attrs:{autocomplete:"off",form:e.form,layout:"vertical"},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:"Application name"}},[t("a-input",{directives:[{name:"focus",rawName:"v-focus",value:!e.editMode,expression:"!editMode"},{name:"decorator",rawName:"v-decorator",value:["appName",{rules:[{required:!0,min:3,max:60,whitespace:!0,message:"Please enter a catchy name for your app (max. 60 characters)"}]}],expression:"[\n            'appName',\n            { rules: [\n              { required: true, min: 3, max: 60, whitespace: true, message: 'Please enter a catchy name for your app (max. 60 characters)' }\n            ] }\n          ]"}],attrs:{size:"large",placeholder:"My Super Cool App"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1),t("a-form-item",{attrs:{label:"Application description"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["appDescription",{rules:[{required:!0,whitespace:!0,min:10,max:450,message:"Please type a description of your app for app users"}]}],expression:"[\n            'appDescription',\n            { rules: [\n              { required: true, whitespace: true, min: 10, max: 450, message: 'Please type a description of your app for app users' }\n            ] }\n          ]"}],style:{fontSize:"16px",padding:"7px 11px"},attrs:{autoSize:{minRows:3,maxRows:6},size:"large",placeholder:"Simplify this and that using My Super Cool App"}})],1),e.editMode?t("a-form-item",{staticClass:"my-0",attrs:{label:"Project homepage"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["infourlHomepage",{rules:[{required:e.editMode,type:"url",message:"Please enter a valid URL for your project homepage"}]}],expression:"[\n            'infourlHomepage',\n            { rules: [\n              { required: editMode, type: 'url', message: 'Please enter a valid URL for your project homepage' }\n            ] }\n          ]"}],attrs:{size:"default",placeholder:"https://my-project.com"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",{staticClass:"my-0",attrs:{label:"Your Support URL (Help Center / Discord / ...)"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["infourlSupport",{rules:[{required:e.editMode,type:"url",message:"Please enter a valid URL linking to your Support page"}]}],expression:"[\n            'infourlSupport',\n            { rules: [\n              { required: editMode, type: 'url', message: 'Please enter a valid URL linking to your Support page' }\n            ] }\n          ]"}],attrs:{size:"default",placeholder:"https://my-project.com/support"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",{staticClass:"my-0"},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v("Your email address (so we can reach you). "),t("b",[e._v("This needs to be an email that is monitored by a human. Important system messages that could affect your service will be sent here.")])]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["devEmail",{rules:[{required:e.editMode,type:"email",message:"Please enter the email address we can reach you on"}]}],expression:"[\n            'devEmail',\n            { rules: [\n              { required: editMode, type: 'email', message: 'Please enter the email address we can reach you on' }\n            ] }\n          ]"}],attrs:{size:"default",placeholder:"email@example.com"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",{staticClass:"my-0",attrs:{label:"Your Terms of Service"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["infourlTerms",{rules:[{required:!1,type:"url",message:"Please enter a valid URL linking to your Terms of Service"}]}],expression:"[\n            'infourlTerms',\n            { rules: [\n              { required: false, type: 'url', message: 'Please enter a valid URL linking to your Terms of Service' }\n            ] }\n          ]"}],attrs:{size:"default",placeholder:"https://my-project.com/terms"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",{staticClass:"mt-0 mb-4",attrs:{label:"Privacy Policy URL"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["infourlPrivacy",{rules:[{required:!1,type:"url",message:"Please enter a valid URL linking to your Privacy Policy / Statement"}]}],expression:"[\n            'infourlPrivacy',\n            { rules: [\n              { required: false, type: 'url', message: 'Please enter a valid URL linking to your Privacy Policy / Statement' }\n            ] }\n          ]"}],attrs:{size:"default",placeholder:"https://my-project.com/privacy"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Webhook URL for callbacks. You can get a URL at "),t("a",{attrs:{href:"https://webhook.site/",target:"_blank",tabindex:"-1"}},[t("b",[e._v("https://webhook.site")])]),e._v(" for testing purposes ")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appWebhookUrl",{validateTrigger:"blur",rules:[{required:!1,type:"url",message:"Please enter a valid URL where you can receive webhooks"}]}],expression:"[\n            'appWebhookUrl', { validateTrigger: 'blur', rules: [ { required: false, type: 'url', message: 'Please enter a valid URL where you can receive webhooks' } ] }\n          ]"}],attrs:{size:"large",allowClear:"",placeholder:"https://my-super-cool-app.dev/xumm-hooks"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"link"},slot:"prefix"})],1)],1):e._e(),e.editMode?t("a-form-item",[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Origin/Redirect URIs (one per line) to use "),t("a",{attrs:{href:"https://docs.xumm.dev/environments/identity-oauth2-openid",target:"_blank"}},[t("b",[e._v("Sign in with Xaman over OAuth2 / OpenID Connect")])]),e._v(". ")]),t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["redirectUris",{rules:[{required:!1,whitespace:!0,message:"Please enter one valid Origin/Redirect URI per line",pattern:/((^|\n)^[a-z0-9]+:\/\/[^\n]+)+$/gm}]}],expression:"[\n            'redirectUris',\n            { rules: [\n              {\n                required: false, whitespace: true, message: 'Please enter one valid Origin/Redirect URI per line',\n                pattern: /((^|\\n)^[a-z0-9]+:\\/\\/[^\\n]+){1,}$/gms,\n              }\n            ] }\n          ]"}],style:{fontSize:"16px",padding:"7px 11px"},attrs:{autoSize:{minRows:3,maxRows:6},size:"large",placeholder:"https://mysite.local/redir?auth=true"}})],1):e._e(),t("a-form-item",{class:{"mb-0":e.editMode}},[t("div",{staticClass:"float-left mt-4"},[e.editMode?e._e():t("a-button",{staticClass:"mt-2 text-muted",attrs:{size:"small",type:"link","html-type":"button"},on:{click:function(t){return e.$router.go(-1)}}},[t("a-icon",{attrs:{type:"arrow-left"}}),e._v(" Cancel (go back) ")],1)],1),t("a-button",{staticClass:"float-right",class:{"mt-4":!e.editMode},attrs:{loading:e.uploading>0||e.submitting,size:"large",type:"primary","html-type":"submit"}},[e.uploading>0?t("span",[e._v("Processing upload")]):t("span",[e.editMode?t("span",[t("a-icon",{attrs:{type:"save"}}),e._v(" Update application ")],1):t("span",[e._v(" Create application "),t("a-icon",{attrs:{type:"arrow-right"}})],1)])])],1)],1)],1)],1)],1)},pe=[],de=a("3af3"),ue=a("4eb5"),he=a.n(ue),me=a("c964"),fe=a("f0f8"),ve=a.n(fe),ge=a("5ad2"),be=a.n(ge);a("4870");function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}s["a"].use(me["a"],{languages:{bash:ve.a,json:be.a}}),he.a.config.autoSetContainer=!0,s["a"].use(he.a),s["a"].prototype.$form=de["a"];var xe={name:"PersistApplication",components:{Migrate:J},props:{editMode:{type:Boolean,required:!1,default:!1}},directives:{focus:{inserted:function(e,t){if("undefined"===typeof t.value||!1!==t.value){var a=e.querySelector(".ant-input");a&&a.focus()}}}},created:function(){this.createForm()},mounted:function(){this.prepopulate()},data:function(){return{uploading:0,imageUrl:"",imageCdnUrl:"",submitting:!1,appDetails:{created:!1,uuidv4:"",name:"",credentials:{secret:""}}}},watch:{"$store.selectedApplication":function(){console.log("Changed application"),this.prepopulate(),this.createForm()},imageUrl:function(){var e=document.querySelector('span[role="button"].ant-upload');e&&(e.style.border="1px solid white",e.style.backgroundImage="url("+this.imageUrl+")",e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center center")}},computed:{formData:function(){return this.$store.appsReady?{appName:this.$store.app.name,appDescription:this.$store.app.details.application_description||"",appWebhookUrl:this.$store.app.details.application_webhookurl||"",redirectUris:this.$store.app.details.application_redirect_uris||"",infourlHomepage:this.$store.app.details.application_infourl_homepage||"",infourlTerms:this.$store.app.details.application_infourl_terms||"",infourlSupport:this.$store.app.details.application_infourl_support||"",infourlPrivacy:this.$store.app.details.application_infourl_privacy||"",devEmail:this.$store.app.details.application_dev_email||""}:{appName:"",appDescription:"",appWebhookUrl:"",redirectUris:"",infourlHomepage:"",infourlTerms:"",infourlSupport:"",infourlPrivacy:"",devEmail:""}},uploadDraggerStyle:function(){return{opacity:this.uploading>0?".65":1}},uploadContainerStyle:function(){return{width:"200px",height:"200px",borderRadius:"7px",backgroundColor:"#fff"}},curlCode:function(){return"\n        curl --silent --request POST --url ".concat(this.$store.apiEndpoint,"platform/ping \\\n          --header 'authorization: Bearer ' \\\n          --header 'content-type: application/json' \\\n          --header 'x-api-key: ").concat(this.appDetails.uuidv4,"' \\\n          --header 'x-api-secret: ").concat(this.appDetails.credentials.secret,"' \\\n          --data '{}' | python -m json.tool")}},methods:{prepopulate:function(){var e=this;this.editMode?(this.imageCdnUrl=this.generateCdnUrl(this.$store.app.details.application_icon_url),this.$nextTick((function(){e.$refs.icon.$nextTick((function(){e.imageUrl=e.$store.app.details.application_icon_url}))}))):this.imageCdnUrl="https://xumm-cdn.imgix.net/app-logo/27d62e4d-2972-4582-8ae6-f1c64d0e7499.png"},createForm:function(){var e=this,t={mapPropsToFields:function(){return{appName:e.$form.createFormField({value:e.formData.appName}),appDescription:e.$form.createFormField({value:e.formData.appDescription}),appWebhookUrl:e.$form.createFormField({value:e.formData.appWebhookUrl}),redirectUris:e.$form.createFormField({value:e.formData.redirectUris}),infourlHomepage:e.$form.createFormField({value:e.formData.infourlHomepage}),infourlTerms:e.$form.createFormField({value:e.formData.infourlTerms}),infourlSupport:e.$form.createFormField({value:e.formData.infourlSupport}),infourlPrivacy:e.$form.createFormField({value:e.formData.infourlPrivacy}),devEmail:e.$form.createFormField({value:e.formData.devEmail})}}};this.form=this.$form.createForm(this,t)},copied:function(){this.$message.success("Copied to clipboard")},handleSubmit:function(e){var t=this;e.preventDefault(),this.submitting||this.form.validateFields(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a,s){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return t.$message.error("Please check all required form fields"),e.abrupt("return");case 3:if(""!==t.imageCdnUrl){e.next=6;break}return t.$message.error("Please add your app icon"),e.abrupt("return");case 6:return t.submitting=!0,e.prev=7,e.next=10,t.$store.api("post","console/app"+(t.editMode?"/"+t.$store.app.details.application_uuidv4:""),ye(ye({},s),{},{appIcon:t.imageCdnUrl}));case 10:if(r=e.sent,!t.editMode){e.next=22;break}if("object"!==Object(F["a"])(r)||null===r||"undefined"===typeof r.updated||!0!==r.updated){e.next=19;break}t.appDetails.name=r.name,t.$message.success('Application "'+t.appDetails.name+'" updated'),t.$store.fetchApps(!1),t.submitting=!1,e.next=20;break;case 19:throw new Error("Error updating application details");case 20:e.next=32;break;case 22:if("object"!==Object(F["a"])(r)||null===r||"undefined"===typeof r.created||!0!==r.created){e.next=31;break}t.appDetails.uuidv4=r.uuidv4,t.appDetails.name=r.name,t.appDetails.created=r.created,t.appDetails.credentials.secret=r.credentials.secret,t.$store.fetchApps(!1),t.submitting=!1,e.next=32;break;case 31:throw new Error("Response validation error");case 32:e.next=38;break;case 34:e.prev=34,e.t0=e["catch"](7),t.submitting=!1,t.editMode?t.$message.error("Error updating your application"+(e.t0.reference?" (".concat(e.t0.reference,")"):"")):t.$message.error("Error creating your application"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 38:case"end":return e.stop()}}),e,null,[[7,34]])})));return function(t,a){return e.apply(this,arguments)}}())},beforeUpload:function(e){return this.handleUpload(e),!1},generateCdnUrl:function(e){return"https://xumm-cdn.imgix.net/app-logo/"+e.split("/").reverse()[0]},getBase64:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)},handleUpload:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,s,r,i,n,o,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="image/jpeg"===t.type,s="image/png"===t.type,a||s||this.$message.error("You can only upload a JPG or PNG file"),r=t.size/1024/1024<2,r||this.$message.error("The max. filesize is 5MB"),!a&&!s||!r){e.next=24;break}return this.getBase64(t,(function(e){c.imageUrl=e})),i=new FormData,i.append("upload",t),this.uploading++,e.prev=10,e.next=13,this.$store.api("post","console/store-logo",i);case 13:n=e.sent,this.uploading--,console.log("upload response: ",n),n.uploaded&&0===this.uploading&&(this.imageCdnUrl=this.generateCdnUrl(n.file.key),o=new Image,o.src=this.imageCdnUrl),e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](10),this.uploading--,this.submitting=!1,this.$message.error("Error while uploading your icon"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 24:case"end":return e.stop()}}),e,this,[[10,19]])})));function t(t){return e.apply(this,arguments)}return t}()}},we=xe,ke=Object(f["a"])(we,le,pe,!1,null,"2f2ed18f",null),Ce=ke.exports,$e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"create-container"},[t("div",[t("h3",{staticClass:"h4"},[e._v("Xaman App settings")]),t("div",{staticClass:"alert alert-primary"},[e._m(0),e._m(1),e.loaded?e._e():t("div",{staticClass:"text-primary mt-3"},[e._v("Loading...")]),0===e.tableData.length&&e.loaded?t("div",{staticClass:"text-primary mt-3"},[t("b",[e._v("No custom nodes")]),e._v(", you can add a custom node with the form below.")]):e._e(),e.tableData.length>0&&e.loaded?t("div",[t("a-table",{staticClass:"mt-3",staticStyle:{"background-color":"white"},attrs:{dataSource:e.tableData,columns:e.columns,pagination:!1,size:"small",rowKey:"id"},scopedSlots:e._u([{key:"color",fn:function(e){return[t("div",{staticStyle:{display:"inline-block",width:"14px",height:"14px",border:"1px solid #000","border-radius":"3px"},style:{backgroundColor:"#"+e.color.slice(-6)}})]}},{key:"action",fn:function(a){return[t("a-icon",{staticStyle:{color:"red",cursor:"pointer"},attrs:{type:"delete"},on:{click:function(t){return e.handleRemove(a)}}})]}}],null,!1,209603388)})],1):e._e(),t("hr"),e._m(2),t("a-form",{attrs:{form:e.form,layout:"horizontal"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("a-form-item",{staticClass:"py-0 my-0",attrs:{label:"Name","label-col":{span:4},"wrapper-col":{span:20},"validate-status":""!==e.validationErrors.name?"error":"",help:e.validationErrors.name||""}},[t("a-input",{attrs:{placeholder:"My Cool Node",minLength:4,maxLength:25},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("a-form-item",{staticClass:"py-0 my-0",attrs:{label:"Websocket endpoint","label-col":{span:4},"wrapper-col":{span:20},"validate-status":""!==e.validationErrors.websocketEndpoint?"error":"",help:e.validationErrors.websocketEndpoint||""}},[t("a-input",{attrs:{placeholder:"ws://example.com"},on:{blur:function(t){return e.validateWebSocketEndpoint()}},model:{value:e.form.websocketEndpoint,callback:function(t){e.$set(e.form,"websocketEndpoint",t)},expression:"form.websocketEndpoint"}})],1),t("a-form-item",{staticClass:"py-0 my-0",attrs:{label:"Network ID","label-col":{span:4},"wrapper-col":{span:20},"validate-status":""!==e.validationErrors.chainId?"error":"",help:e.validationErrors.chainId||""}},[t("a-input-number",{attrs:{placeholder:"1337",disabled:void 0!==e.parsedNetworkInfo.chain_id&&null!==e.parsedNetworkInfo.chain_id&&""!==e.parsedNetworkInfo.chain_id,min:0,max:4294967295},model:{value:e.form.chainId,callback:function(t){e.$set(e.form,"chainId",t)},expression:"form.chainId"}})],1),t("a-form-item",{staticClass:"py-0 my-0",attrs:{label:"Native asset code","label-col":{span:4},"wrapper-col":{span:20},"validate-status":""!==e.validationErrors.nativeAssetCode?"error":"",help:e.validationErrors.nativeAssetCode||""}},[t("a-input",{attrs:{placeholder:"ABC",disabled:void 0!==e.parsedNetworkInfo.native_asset&&null!==e.parsedNetworkInfo.native_asset&&""!==e.parsedNetworkInfo.native_asset},model:{value:e.form.nativeAssetCode,callback:function(t){e.$set(e.form,"nativeAssetCode",t)},expression:"form.nativeAssetCode"}})],1),t("a-form-item",{staticClass:"py-0 my-0",attrs:{"wrapper-col":{span:20,offset:4}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("Submit")])],1)],1)],1)])])},Ae=[function(){var e=this,t=e._self._c;return t("h3",{staticClass:"h5"},[t("b",[e._v("Custom nodes")])])},function(){var e=this,t=e._self._c;return t("div",[e._v(" You can add custom nodes, available in Xaman, allowing you to use your own node for existing networks, or test with your own (test) net(s). These custom nodes can be used on the device used to sign in at the Xaman Developer Console. "),t("b",[e._v("After adding or removing custom nodes, synchronise the node list by opening the Xaman app, going to Settings, Advanced, Network settings & tap the Sync. icon in the upper right corner.")])])},function(){var e=this,t=e._self._c;return t("h3",{staticClass:"h6"},[t("b",[e._v("Add custom node")])])}],je=(a("8615"),a("7cdf"),a("c5f6"),a("5df3"),a("a481"),a("b9fc")),Se=a.n(je),Oe=a("e42e");function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue={name:"ManageAppSettings",components:{},props:{editMode:{type:Boolean,required:!1,default:!1}},created:function(){},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("get","console/chains");case 2:t=e.sent,this.tableData=(null===t||void 0===t?void 0:t.chains)||[],this.loaded=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{parsedNetworkInfoUrl:"",parsedNetworkInfo:{},form:{websocketEndpoint:"",chainId:null,name:"",nativeAssetCode:""},validationErrors:{chainId:"",name:"",nativeAssetCode:"",websocketEndpoint:""},loaded:!1,tableData:[],columns:[{title:"Network ID",dataIndex:"chain_id",key:"chain_id"},{title:"Color",key:"color",scopedSlots:{customRender:"color"}},{title:"Name",dataIndex:"name",key:"name"},{title:"Native Asset",dataIndex:"native_asset",key:"native_asset"},{title:"Reserve (Acc.)",dataIndex:"reserve_account",key:"reserve_account"},{title:"Reserve (Obj.)",dataIndex:"reserve_object",key:"reserve_object"},{title:"Websocket URL",dataIndex:"websocket",key:"websocket"},{title:"",key:"action",scopedSlots:{customRender:"action"}}]}},watch:{},computed:{},methods:{handleRemove:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableData.splice(this.tableData.indexOf(t),1),e.next=3,this.$store.api("delete","console/chains",t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.validateForm().then((function(e){if(console.log({isValid:e}),e){console.log("Form data:",t.form);var a=t.$store.api("post","console/chains",{chain_id:t.form.chainId,name:t.form.name,native_asset:t.form.nativeAssetCode,endpoint:t.form.websocketEndpoint});Object.keys(t.parsedNetworkInfo).forEach((function(e){t.parsedNetworkInfo[e]=null})),Object.keys(t.form).forEach((function(e){t.form[e]=""})),a.then((function(e){t.$store.api("get","console/chains").then((function(e){t.tableData=(null===e||void 0===e?void 0:e.chains)||[]}))}))}}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validateWebSocketEndpoint:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,i,n,o,c,l,p,d,u,h,m,f,v,g,b,_,y,x,w=this,k=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(k.length>0&&void 0!==k[0])||k[0],this.form.websocketEndpoint===this.parsedNetworkInfoUrl){e.next=18;break}if(Object.keys(this.parsedNetworkInfo).forEach((function(e){w.parsedNetworkInfo[e]=null})),this.parsedNetworkInfoUrl=this.form.websocketEndpoint,!this.isValidWebSocketURL(this.form.websocketEndpoint)){e.next=18;break}return console.log("CONNECTING",this.form.websocketEndpoint),a=this.form.websocketEndpoint.match(/^ws:/)?"wss://custom-node.xrpl-labs.com/ws/"+this.form.websocketEndpoint.replace(/^ws[s]{0,1}:\/\//,""):this.form.websocketEndpoint,s=new Oe["XrplClient"](a,{assumeOfflineAfterSeconds:7,connectAttemptTimeoutSeconds:7}),console.log("CONNECTED?",this.form.websocketEndpoint),console.log("READY",this.form.websocketEndpoint),console.log("INFO...",this.form.websocketEndpoint),e.next=13,Promise.race([Promise.all([s.send({command:"server_info"}),s.send({command:"server_definitions"})]),new Promise((function(e){setTimeout(e,6e3)}))]);case 13:r=e.sent,i={},n={},s.close(),Array.isArray(r)&&2===r.length?(console.log("All fine"),i=r[0],n=r[1],x=Pe(Pe(Pe(Pe(Pe(Pe({},n.native_currency_code?{native_asset:n.native_currency_code}:{native_asset:"XRP"}),null!==(o=i)&&void 0!==o&&null!==(c=o.info)&&void 0!==c&&null!==(l=c.validated_ledger)&&void 0!==l&&l.reserve_base_xrp?{reserve_account:1e6*Number(i.info.validated_ledger.reserve_base_xrp||0)}:{}),null!==(p=i)&&void 0!==p&&null!==(d=p.info)&&void 0!==d&&null!==(u=d.validated_ledger)&&void 0!==u&&u.reserve_base_native?{reserve_account:1e6*Number(i.info.validated_ledger.reserve_base_native||0)}:{}),null!==(h=i)&&void 0!==h&&null!==(m=h.info)&&void 0!==m&&null!==(f=m.validated_ledger)&&void 0!==f&&f.reserve_inc_xrp?{reserve_object:1e6*Number(i.info.validated_ledger.reserve_inc_xrp||0)}:{}),null!==(v=i)&&void 0!==v&&null!==(g=v.info)&&void 0!==g&&null!==(b=g.validated_ledger)&&void 0!==b&&b.reserve_inc_native?{reserve_object:1e6*Number(i.info.validated_ledger.reserve_inc_native||0)}:{}),null!==(_=i)&&void 0!==_&&null!==(y=_.info)&&void 0!==y&&y.network_id?{chain_id:i.info.network_id}:{chain_id:0}),this.parsedNetworkInfo=x,void 0!==x.chain_id&&null!==x.chain_id?this.form.chainId=x.chain_id:this.form.chainId="",x.native_asset?this.form.nativeAssetCode=x.native_asset:this.form.nativeAssetCode="",console.log("INFO!",this.form.websocketEndpoint,i.info.validated_ledger,x),t&&this.validateForm()):console.log("Timeout");case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isValidWebSocketURL:function(e){try{var t=new URL(e);return"ws:"!==t.protocol&&"wss:"!==t.protocol?(this.validationErrors.websocketEndpoint="Invalid protocol, requires ws:// or wss://",!1):!Se.a.isV4Format(t.hostname)&&!Se.a.isV6Format(t.hostname)||!Se.a.isPrivate(t.hostname)}catch(a){return console.log(a),!1}},validateForm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Number.isInteger(this.form.chainId)||this.form.chainId<0||this.form.chainId>4294967295?this.validationErrors.chainId="Network ID must be an uint32 number":this.validationErrors.chainId="",this.form.name.trim().length<5?this.validationErrors.name="Name must be at least 5 characters":this.form.name.trim().length>25?this.validationErrors.name="Name must be less than 25 characters":this.validationErrors.name="",/^[A-Z]{3}$/.test(this.form.nativeAssetCode)?this.validationErrors.nativeAssetCode="":this.validationErrors.nativeAssetCode="Native asset code must be three uppercase letters",this.isValidWebSocketURL(this.form.websocketEndpoint)){e.next=7;break}this.validationErrors.websocketEndpoint="Invalid Websocket URL",e.next=10;break;case 7:return e.next=9,this.validateWebSocketEndpoint(!1);case 9:null!==(t=this.parsedNetworkInfo)&&void 0!==t&&t.reserve_account?this.validationErrors.websocketEndpoint="":this.validationErrors.websocketEndpoint="Could not verify XRP Ledger Protocol required information";case 10:return e.abrupt("return",0===Object.values(this.validationErrors).filter((function(e){return""!==e})).length);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},De=Ue,Ee=(a("b9c2"),Object(f["a"])(De,$e,Ae,!1,null,null,null)),Ie=Ee.exports,Te=function(){var e=this,t=e._self._c;return e.$store.appName?t("div",{},[t("h3",{staticClass:"mb-1"},[e._v("Settings")]),e.$auth.user.isXumm?e._e():t("Migrate",{staticClass:"mb-3 mt-2"}),t("h5",{staticClass:"mb-3"},[t("a-icon",{attrs:{type:"build"}}),e._v(" "+e._s(e.$store.appName))],1),e.$store.isAppOwner?e._e():t("a-alert",{staticClass:"text-left mb-3",attrs:{showIcon:""}},[t("span",{attrs:{slot:"message"},slot:"message"},[t("b",[e._v("Shared application access")]),t("br"),e._v(" This application has been shared with you by "),t("code",[e._v(e._s(e.$store.app.details.application_auth0_owner))]),e._v(". You can view all data and make most of changes yourself, but for some operations you will have to reach out to the person who shared this application with you. ")])]),t("p",[e._v(" You can find your API Key below, for reference purposes. "+e._s(e.$store.isAppOwner?"If your API Secret is compromised or lost, you can regenerate your API Secret. You will have to update your API Secret in your application.":"If your API Secret is compromised or lost, please contact the owner/creator of this application. He/she can regegenerate the API Secret.")+" ")]),t("a-card",{staticClass:"form-padding-sm"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[t("a-icon",{attrs:{type:"safety-certificate"}}),e._v(" Application credentials")],1)]),t("div",{staticClass:"form-label-left form-line-height-sm"},[t("a-form",{attrs:{layout:"horizontal"}},[t("a-form-item",{staticClass:"alert pt-2 pl-2",staticStyle:{margin:"0"},attrs:{colon:!1,"label-col":{sm:{span:6},md:{span:5},lg:{span:4},xl:{span:3}},"wrapper-col":{sm:{span:18},md:{span:19},lg:{span:20},xl:{span:21}},label:"API Key"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{type:"tag"}}),t("code",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[e._v(e._s(e.$store.app.details.application_uuidv4))]),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.$store.app.details.application_uuidv4,expression:"$store.app.details.application_uuidv4",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],attrs:{type:"default",size:"small"}},[t("a-icon",{attrs:{type:"copy"}}),e._v(" Copy")],1)],1),e.$store.isAppOwner?t("a-form-item",{staticClass:"alert pt-2 pl-2",class:{"alert-warning":""!==e.newSecret},staticStyle:{margin:"0"},attrs:{colon:!1,"label-col":{sm:{span:6},md:{span:5},lg:{span:4},xl:{span:3}},"wrapper-col":{sm:{span:18},md:{span:19},lg:{span:20},xl:{span:21}},label:"API Secret"}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{type:"thunderbolt"}}),""===e.newSecret?t("code",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},[e._v("××××××××"),t("span",{staticClass:"text-secodary"},[e._v("-")]),e._v("××××"),t("span",{staticClass:"text-secodary"},[e._v("-")]),e._v("××××"),t("span",{staticClass:"text-secodary"},[e._v("-")]),e._v("××××"),t("span",{staticClass:"text-secodary"},[e._v("-")]),e._v("××××××××××××")]):e._e(),""!==e.newSecret?t("code",{staticClass:"d-inline-block ml-1 mr-2 text-danger"},[e._v(e._s(e.newSecret))]):e._e(),""!==e.newSecret?t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.newSecret,expression:"newSecret",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],staticClass:"mr-2",attrs:{type:"default",size:"small"}},[t("a-icon",{attrs:{type:"copy"}}),e._v(" Copy")],1):e._e(),""===e.newSecret?t("a-popconfirm",{attrs:{okText:"Yes, regenerate",cancelText:"No, cancel",okType:"danger"},on:{confirm:e.regenerateSecret}},[t("span",{attrs:{slot:"title"},slot:"title"},[t("div",{},[t("b",[e._v("Are you sure you want to regenerate your API Secret?")])]),t("div",{staticClass:"mt-1"},[e._v("You will have to update your secret in your application!")])]),t("a-icon",{staticClass:"text-danger",attrs:{slot:"icon",type:"exclamation-circle"},slot:"icon"}),t("a-button",{attrs:{type:"danger",size:"small"}},[t("a-icon",{attrs:{type:"reload"}}),e._v(" Regenerate")],1)],1):e._e()],1):e._e()],1)],1)]),e._m(0),t("a-card",{staticClass:"form-padding-sm"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[t("a-icon",{attrs:{type:"setting"}}),e._v(" Application details")],1)]),t("PersistApplication",{attrs:{editMode:!0}})],1),e.$store.isAppOwner?t("h5",{staticClass:"text-muted mt-3"},[e._v("Danger zone")]):e._e(),e.$store.isAppOwner?t("p",{staticClass:"text-muted"},[e._v(" If you no longer wish to use this app, you can "),t("a-popconfirm",{attrs:{okText:"Yes, destroy this app",cancelText:"No, cancel",okType:"danger"},on:{confirm:e.destroyApp}},[t("span",{attrs:{slot:"title"},slot:"title"},[t("div",{},[t("b",[e._v("Are you sure you want to destroy this app?")])]),t("div",{staticClass:"mt-1"},[e._v("You will no longer be able to submit sign requests, and existing sign request will no longer be accessible!")])]),t("a-icon",{staticClass:"text-danger",attrs:{slot:"icon",type:"exclamation-circle"},slot:"icon"}),t("a-button",{attrs:{type:"danger",size:"small"}},[e._v("Destroy")])],1),e._v(" this application. ")],1):e._e()],1):e._e()},Ne=[function(){var e=this,t=e._self._c;return t("p",{staticClass:"mt-3"},[e._v(" To update your application settings (visible for your users), change the values below and press the "),t("q",[e._v("Update application")]),e._v(" button. Settings will take effect immediately after saving the changes. ")])}];he.a.config.autoSetContainer=!0,s["a"].use(he.a);var Fe={name:"AppSettings",components:{PersistApplication:Ce,Migrate:J},data:function(){return{newSecret:""}},props:{},watch:{"$store.selectedApplication":function(){this.newSecret=""}},mounted:function(){},computed:{},methods:{regenerateSecret:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.api("patch","console/app/"+this.$store.app.details.application_uuidv4,{regenerateSecret:!0});case 3:t=e.sent,this.newSecret=t.credentials.secret,this.$message.success("Secret regenerated"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error("Error regenerating secret"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),destroyApp:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.api("delete","console/app/"+this.$store.app.details.application_uuidv4,{removeApp:!0});case 3:this.$message.success("Application "+this.$store.appName+" has been removed"),this.$router.push({name:"home"}),this.$store.selectedApplication="",this.$store.fetchApps(!1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$message.error("Error destroying app"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),copied:function(){this.$message.success("Copied to clipboard")}}},Le=Fe,ze=(a("e8a4"),Object(f["a"])(Le,Te,Ne,!1,null,null,null)),qe=ze.exports,Me=function(){var e=this,t=e._self._c;return e.$store.appName?t("div",{},[t("h3",{staticClass:"mb-1"},[e._v("API call log")]),t("h5",{staticClass:"mb-3"},[t("a-icon",{attrs:{type:"build"}}),e._v(" "+e._s(e.$store.appName))],1),e.record?e._e():t("div",{staticClass:"alert alert-warning"},[t("a-icon",{attrs:{type:"arrow-left"}}),e._v(" Please select a API call to inspect the call details. ")],1),e.record?t("a-card",{attrs:{bodyStyle:{padding:"0"}}},[e.record?t("table",{staticClass:"mb-0 table"},[t("thead",[t("tr",[t("th",{staticClass:"border-top-0",attrs:{width:"200"}},[e._v("Property")]),t("th",{staticClass:"border-top-0"},[e._v("Value")])])]),t("tbody",e._l(Object.keys(e.record).filter((function(t){return e.record[t]})).filter((function(t){return e.hiddenKeys.indexOf(t)<0})),(function(a){return t("tr",{key:a},[t("td",[e._v(e._s(e.translateKey(a)))]),"payload_uuidv4"===a||"call_extref"===a&&e.record[a].match(/^payloads\(([a-f0-9-]+)\)/)?t("td",[t("a-icon",{attrs:{type:"link"}}),e._v("  "),t("router-link",{staticClass:"btn-sm btn btn-primary py-0 alert-primary",attrs:{tag:"a",to:{name:"app-payloads",params:{appId:e.$store.selectedApplication,record:"payload_uuidv4"===a?e.record.payload_uuidv4:e.record[a].replace(/^payloads\(([a-f0-9-]+)\)/,"$1")}}}},["payload_uuidv4"===a?t("code",{staticStyle:{"line-height":".8em"}},[e._v(e._s(e.record[a]))]):e._e(),"call_extref"===a?t("code",{staticStyle:{"line-height":".8em"}},[e._v(e._s(e.record[a].replace(/^payloads\(([a-f0-9-]+)\)/,"$1")))]):e._e(),e._v("  "),t("a-icon",{attrs:{type:"arrow-right"}})],1)],1):a.match(/uuidv4|accesstoken/)?t("td",[t("code",[e._v(e._s(e.record[a]))])]):a.match(/^call_e(message|code)/)?t("td",{staticClass:"alert-danger"},[t("code",{staticClass:"text-danger"},[t("a-icon",{attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(e.record[a])+" ")],1)]):t("td",[t("code",{staticClass:"text-dark"},[e._v(e._s(e.record[a]))])])])})),0)]):e._e()]):e._e(),e.record?t("div",{staticClass:"mt-2"},[e._m(0)]):e._e()],1):e._e()},Xe=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"list-unstyled"},[t("li",[t("b",[e._v("*1")]),e._v(" The call reference ID is present in the HTTP response header "),t("code",[e._v("X-Call-Ref")]),e._v(".")]),t("li",[t("b",[e._v("*2")]),e._v(" A client access token allows you to directly deliver new payloads with a push notification to the client: "),t("a",{attrs:{href:"https://docs.xumm.dev/concepts/payloads-sign-requests/delivery/push",target:"_blank"}},[t("b",[e._v("read more in the developer docs")])]),e._v(".")])])}],We={name:"AppLogs",components:{},data:function(){return{visible:!1,hiddenKeys:["call_uuidv4_txt","call_type","call_uuidv4_bin","call_version","call_endpoint","call_moment_ts","call_idempotence"]}},props:{record:[Object,null]},mounted:function(){},computed:{},methods:{translateKey:function(e){var t={call_uuidv4:"Call reference ID *1",call_moment:"Call moment",call_method:"HTTP method",call_contenttype:"HTTP content type",call_useragent:"Client user agent",call_url:"Called API endpoint",call_httpcode:"HTTP response code",payload_uuidv4:"Stored payload ID",token_issued:"Client token issued",token_expiration:"Client token expires",token_accesstoken:"Client access token *2",token_days_valid:"Token validity (days)",call_ecode:"Internal error code",call_emessage:"Error (detail) message",call_emessage_debug:"Causing error message",call_extref:"External reference",_:"_"};return Object.keys(t).indexOf(e)>-1?t[e]:e}}},Be=We,He=(a("61bc"),Object(f["a"])(Be,Me,Xe,!1,null,"22bd3f82",null)),Ye=He.exports,Ve=function(){var e=this,t=e._self._c;return e.$store.appName?t("div",{},[t("h3",{staticClass:"mb-1"},[e._v("Payloads")]),t("h5",{staticClass:"mb-3"},[t("a-icon",{attrs:{type:"build"}}),e._v(" "+e._s(e.$store.appName))],1),e.record?e._e():t("div",{staticClass:"alert alert-warning"},[t("a-icon",{attrs:{type:"arrow-left"}}),e._v(" Please select a API call to inspect the call details. ")],1),e.record?t("div",{attrs:{id:"payloadrecords"}},[t("a-tabs",{attrs:{animated:!1,"active-key":e.activeTab},on:{change:e.tabswitch}},[t("a-tab-pane",{key:"1",attrs:{tab:"Payload details","force-render":""}},[t("a-card",{staticStyle:{border:"none"},attrs:{bodyStyle:{margin:"0",padding:"0"}}},[t("table",{staticClass:"mb-0 table"},[t("thead",[t("tr",[t("th",{staticClass:"border-top-0",attrs:{width:"200"}},[e._v("Property")]),t("th",{staticClass:"border-top-0"},[e._v("Value")])])]),t("tbody",e._l(Object.keys(e.record).filter((function(t){return e.record[t]||e.forceShowKeys.indexOf(t)>-1})).filter((function(t){return e.hiddenKeys.indexOf(t)<0})),(function(a){return t("tr",{key:a},[t("td",[e._v(e._s(e.translateKey(a)))]),"call_uuidv4"===a?t("td",[t("a-icon",{attrs:{type:"link"}}),e._v("  "),t("router-link",{staticClass:"btn-sm btn btn-primary py-0 alert-primary",attrs:{tag:"a",to:{name:"app-logs",params:{appId:e.$store.selectedApplication,record:e.record.call_uuidv4}}}},[t("code",{staticStyle:{"line-height":".8em"}},[e._v(e._s(e.record[a]))]),e._v("  "),t("a-icon",{attrs:{type:"arrow-right"}})],1)],1):"payload_request_json"===a||"meta_blob"===a&&""!==String(e.record[a]||"")?t("td",[t("vue-json-pretty",{attrs:{data:JSON.parse(e.record[a]),showDoubleQuotes:!1}})],1):a.match(/uuidv4|accesstoken/)?t("td",[t("code",[e._v(e._s(e.record[a]))])]):a.match(/opencount/)?t("td",[t("code",{staticClass:"text-dark"},[e._v(e._s(e.record[a])+" time(s)")])]):a.match(/return_url/)?t("td",[t("code",[e._v(e._s(e.record[a].replace("{id}",e.record["call_uuidv4"])))])]):"payload_response_txid"===a||"payload_response_hex"===a?t("td",[t("code",{class:{"text-primary":"payload_response_hex"===a}},[e._v(e._s(e.record[a]))]),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.record[a],expression:"record[k]",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],staticClass:"ml-2",attrs:{size:"small"}},[e._v("Copy")])],1):["payload_tx_destination","payload_response_account","payload_response_multisign_account"].indexOf(a)>-1?t("td",[t("code",[e._v(e._s(e.record[a]))]),t("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.record[a],expression:"record[k]",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.copied,expression:"copied",arg:"success"}],staticClass:"ml-2",attrs:{size:"small"}},[e._v("Copy")])],1):"payload_tx_type"===a?t("td",[t("a-icon",{attrs:{type:"link"}}),e._v("  "),"signin"===e.record[a].toLowerCase()?t("a",{attrs:{href:"https://docs.xumm.dev/environments/identity-oauth2-openid",target:"_blank"}},[t("b",[t("u",[e._v(e._s(e.record[a]))])])]):t("a",{attrs:{href:"https://xrpl.org/"+e.record[a].toLowerCase()+".html",target:"_blank"}},[t("b",[t("u",[e._v(e._s(e.record[a]))])])])],1):["payload_submit","__payload_expired","payload_pathfinding_fallback","payload_multisign","payload_pathfinding"].indexOf(a)>-1?t("td",{class:{"text-success":e.record[a]>0,"text-danger":e.record[a]<1}},[t("a-icon",{attrs:{type:Number(e.record[a]||0)>0?"check":"close"}}),e._v(" "+e._s(Number(e.record[a]||0)>0?"Yes":"No")+" ")],1):["_opened_by_deeplink"].indexOf(a)>-1?t("td",{class:{"text-success":"number"===typeof e.record[a]&&e.record[a]>0,"text-danger":"number"===typeof e.record[a]&&e.record[a]<1,"text-muted":null===Object(F["a"])(e.record[a])}},[null!==e.record[a]?t("a-icon",{attrs:{type:e.record[a]>0?"check":"close"}}):e._e(),e._v(" "+e._s("number"===typeof e.record[a]?e.record[a]>0?"Yes":"No":"Not opened yet...")+" ")],1):a.match(/^call_e(message|code)/)?t("td",{staticClass:"alert-danger"},[t("code",{staticClass:"text-danger"},[t("a-icon",{attrs:{type:"exclamation-circle"}}),e._v(" "+e._s(e.record[a])+" ")],1)]):t("td",[t("code",{staticClass:"text-dark"},[e._v(e._s(e.record[a]))])])])})),0)])]),e.record?t("div",{staticClass:"mt-2"},[t("ul",{staticClass:"list-unstyled"},[t("li",[t("b",[e._v("*1")]),e._v(" The call reference ID is present in the HTTP response header "),t("code",[e._v("X-Call-Ref")]),e._v(".")]),t("li",[t("b",[e._v("*2")]),e._v(" A client access token allows you to directly deliver new payloads with a push notification to the client: "),t("a",{attrs:{href:"https://docs.xumm.dev/concepts/payloads-sign-requests/delivery/push",target:"_blank"}},[t("b",[e._v("read more in the developer docs")])]),e._v(".")])])]):e._e()],1),t("a-tab-pane",{key:"2",attrs:{"force-render":"",disabled:!e.record.payload_resolved||!e.webhookCallsFetched||e.webhookCalls.length<1}},[t("div",{attrs:{slot:"tab"},slot:"tab"},[e._v(" Webhook calls "),e.webhookCallsFetched?t("a-badge",{attrs:{count:e.webhookCalls.length>0?e.webhookCalls.length:"NONE","number-style":e.webhookCalls.length>0?{}:{backgroundColor:"#f0f0f0",color:"#999",border:"1px solid #999"}}}):e._e(),t("a-spin",{directives:[{name:"show",rawName:"v-show",value:!e.webhookCallsFetched,expression:"!webhookCallsFetched"}],staticStyle:{"margin-top":"-2px","margin-left":"4px"}},[t("a-icon",{staticClass:"text-secondary",staticStyle:{"font-size":"16px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1),t("div",[t("a-card",{staticStyle:{border:"none"},attrs:{bodyStyle:{margin:"0",padding:"0"}}},[t("table",{staticClass:"mb-0 table"},[t("thead",[t("tr",[t("th",{staticClass:"border-top-0",attrs:{width:"130"}},[e._v("Property")]),t("th",{staticClass:"border-top-0"},[e._v("Value")])])]),e._l(e.webhookCalls,(function(a,s){return t("tbody",{key:s},[t("tr",[t("td",{staticClass:"text-white",class:{"bg-success":["2","3"].indexOf(String(a.response_code).slice(0,1))>-1,"bg-danger":["2","3"].indexOf(String(a.response_code).slice(0,1))<0},attrs:{colspan:"100"}},[t("b",[e._v("Attempt #"+e._s(a.attempt))])])]),e._l(Object.keys(a),(function(s){return t("tr",{directives:[{name:"show",rawName:"v-show",value:["moment","response_message"].indexOf(s)>-1,expression:"['moment', 'response_message'].indexOf(key) > -1"}],key:s},[t("td",[e._v(e._s(e.translateKey(s)))]),t("td",[t("pre",{staticClass:"call"},[e._v(e._s(a[s]))])])])}))],2)}))],2)])],1)])],1)],1):e._e()]):e._e()},Ge=[],Ke=a("838b"),Qe=a.n(Ke);a("b83f");s["a"].use(he.a);var Je,Ze={name:"AppPayloads",components:{VueJsonPretty:Qe.a},data:function(){return{activeTab:"2",webhookCallsFetched:!1,webhookCalls:[],visible:!1,forceShowKeys:["_opened_by_deeplink","payload_pathfinding_fallback","__payload_expired"],hiddenKeys:["call_uuidv4_txt","call_uuidv4_bin","payload_handler","payload_created_ts","new"]}},props:{record:[Object,null]},mounted:function(){},watch:{"record.call_uuidv4_txt":function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.activeTab="1",this.webhookCalls=[],this.webhookCallsFetched=!1,null===(t=this.$route.params)||void 0===t||!t.appId||null===(a=this.$route.params)||void 0===a||!a.record){e.next=8;break}return e.next=6,this.$store.api("get","console/payload-webhooks/"+(null===(s=this.$route.params)||void 0===s?void 0:s.appId)+"/"+(null===(r=this.$route.params)||void 0===r?void 0:r.record));case 6:n=e.sent,null!==n&&void 0!==n&&n.record&&n.record===(null===(i=this.$route.params)||void 0===i?void 0:i.record)&&(this.webhookCalls=n.calls,this.webhookCallsFetched=!0);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{},methods:{tabswitch:function(e){this.activeTab=String(e)},copied:function(e){this.$message.success('Copied "'+e.text+'" to clipboard')},translateKey:function(e){var t={moment:"Moment (UTC)",response_message:"Response Body",call_uuidv4:"Call reference ID *1",token_issued:"Client token issued",token_expiration:"Client token expires",token_accesstoken:"Client access token *2",token_days_valid:"Token validity (days)",call_ecode:"Internal error code",call_emessage:"Error (detail) message",payload_tx_type:"Transaction type",payload_tx_destination:"Destination account",payload_tx_destination_tag:"Destination tag",payload_created:"Payload create moment",payload_expiration:"Payload expiration moment",payload_web_opencount:"Open count (web)",payload_ws_opencount:"Open count (websocket)",payload_api_opencount:"Open count (API)",payload_app_opencount:"Open count (app)",payload_submit:"Auto-submit after signing",payload_pathfinding:"Allow Pathfinding",payload_return_url_app:"Return URL (app client)",payload_return_url_web:"Return URL (web client)",payload_resolved:"Payload resolved (moment)",payload_dispatched_to:"Signed tx dispatched to",payload_dispatched_result:"Tx submission result",payload_dispatched_nodetype:"Tx submission Node Type",payload_response_hex:"Signed tx blob (HEX)",payload_response_txid:"Signed tx hash",payload_response_account:"Account (transaction)",payload_response_multisign_account:"Account (multisign)",payload_request_json:"Payload JSON",payload_multisign:"Sign for multisign",meta_string:"Custom Identifier",meta_blob:"Meta data (Blob)",payload_force_network:"Force network",payload_pathfinding_fallback:"Pathfinding Fallback",meta_user_instruction:"User instruction",payload_reject_initiator:"Payload rejected by",payload_origintype:"Payload Origin",payload_signmethod:"Signed using (method)",_opened_by_deeplink:"Client opened: Deeplink",__payload_expired:"Payload expired",_:"_"};return Object.keys(t).indexOf(e)>-1?t[e]:e}}},et=Ze,tt=(a("0543"),a("f636"),Object(f["a"])(et,Ve,Ge,!1,null,"218fdc3e",null)),at=tt.exports,st=function(){var e=this,t=e._self._c;return e.$store.appName?t("div",{},[t("h3",{staticClass:"mb-1"},[e._v("xApp")]),t("h5",{staticClass:"mb-3"},[t("a-icon",{attrs:{type:"code"}}),e._v(" "+e._s(e.$store.appName))],1),e._m(0),e.$store.app.details.application_xapp_identifier?t("div",[t("a-alert",{attrs:{message:"xApp enabled",type:"success","show-icon":""}},[t("div",{attrs:{slot:"description"},slot:"description"},[e._v(" This application is xApp enabled: you can load your WebApp in Xaman and use xApp related "),t("a",{attrs:{href:"https://docs.xumm.dev/environments/xapps-dapps",target:"_blank"}},[t("b",[e._v("features")])]),e._v(" 🎉 ")])]),t("a-card",{staticClass:"form-padding-sm mt-3"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[t("a-icon",{attrs:{type:"tool"}}),e._v(" xApp Details")],1),t("br"),t("small",[e._v("To change any of the static xApp related settings, please "),t("a",{attrs:{href:"https://xumm.app/detect/xapp:xumm.support-md",target:"_blank"}},[t("b",[e._v("submit a support ticket here")])]),e._v(".")])]),e.sandbox?t("a-alert",{staticClass:"mt-2 pt-1 pb-2 mb-3",attrs:{type:"info"}},[t("div",{staticClass:"py-0 my-0",attrs:{slot:"description"},slot:"description"},[e._v(" Activating xApp features and building a "),t("b",[e._v("sandbox xApp")]),e._v(" does "),t("b",[t("u",[e._v("NOT")])]),e._v(" guarantee your xApp will be going live in the future. To take your xApp live, it will be audited by XRPL Labs. Security & usability will be tested. If you want to have more certainty in advance, please reach "),t("a",{attrs:{href:"https://docs.xumm.dev/environments/xapps-dapps/requirements#public-listed-xapps",target:"_blank"}},[e._v("read our Developer Help Center docs")]),e._v(" out to XRPL Labs. "),t("a",{attrs:{href:"https://xumm.app/detect/xapp:xumm.support-md",target:"_blank"}},[t("b",[e._v("Submit a support ticket here")])])])]):e._e(),t("div",{staticClass:"form-label-left form-line-height-sm"},[t("a-form",{attrs:{autocomplete:"off",form:e.form,layout:"vertical"},on:{submit:e.handleSubmit}},e._l(e.xAppDataFieldName,(function(a,s){return t("a-form-item",{key:s,staticClass:"alert pt-0 pl-1",staticStyle:{margin:"0"},attrs:{colon:!1,"label-col":{sm:{span:12},md:{span:8},lg:{span:6},xl:{span:4}},"wrapper-col":{sm:{span:12},md:{span:16},lg:{span:18},xl:{span:20}}}},[t("span",{attrs:{slot:"label"},slot:"label"},[t("div",{class:{"mt-2":"application_xapp_debug_device_uuidv4_bin"===s||"application_xapp_url"===s&&e.sandbox}},[e._v(e._s(e.xAppDataFieldName[s]))])]),"application_no_netswitch_rld"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["xummEvent",{valuePropName:"checked",initialValue:!!e.$store.app.details.application_xapp_networks}],expression:"[ 'xummEvent', { valuePropName: 'checked', initialValue: !!$store.app.details.application_xapp_networks, }, ]"}],key:s,attrs:{disabled:e.$store.app.details.application_xapp_networks.length<2},on:{change:e.xummEventChange}},[e._v(" xApp Event instead of xApp reload on end user network change "),t("br"),t("b",[t("small",{staticClass:"d-inline-block mb-0 pb-0 pl-4 text-primary ml-1"},[e._v("Xaman 2.6.0 and higher")])])])],1):"application_xapp_identifier"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[t("a-icon",{attrs:{type:"link"}}),e._v(" "),t("a",{staticClass:"text-primary",attrs:{href:"https://xumm.app/detect/xapp:"+e.xAppData["application_xapp_identifier"],target:"_blank"}},[t("b",[t("u",[e._v(e._s("https://xumm.app/detect/xapp:"+e.xAppData["application_xapp_identifier"]))])])])],1):"application_xummloader"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["xummLoader",{valuePropName:"checked",initialValue:!0}],expression:"[ 'xummLoader', { valuePropName: 'checked', initialValue: true, }, ]"}],key:s,attrs:{disabled:""===String(e.$store.app.details.application_infourl_support||"")},on:{change:e.xummLoaderChange}},[e._v(" Xaman loader till SDK "),t("code",[e._v("ready()")]),e._v(" is called "),t("br"),t("b",[t("small",{staticClass:"d-inline-block mb-0 pb-0 pl-4 text-primary ml-1"},[e._v("Xaman 2.5.0 and higher")])])])],1):"application_no_monetization"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["xummNoMon",{valuePropName:"checked",initialValue:!0}],expression:"[ 'xummNoMon', { valuePropName: 'checked', initialValue: true, }, ]"}],key:s,on:{change:e.xummNoMonChange}},[e._v(" Always allow users to open this xApp (even if payment restricted) "),t("br"),t("b",[t("small",{staticClass:"d-inline-block mb-0 pb-0 pl-4 text-primary ml-1"},[e._v("Xaman 3.2.0 and higher")])])])],1):"application_xapp_networks"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},e._l(e.rails,(function(a,s){return t("div",{key:s},[t("a-checkbox",{key:"xummNetwork_"+s,staticClass:"d-block w-100 pb-3",attrs:{checked:e.$store.app.details.application_xapp_networks.indexOf(s)>-1},on:{change:function(t){return e.xummNetworkChange(s)}}},[t("code",{staticClass:"text-dark border-secondary border border-1 bg-light",staticStyle:{padding:"3px 0px 1px 5px","border-radius":"10px"}},[t("i",{staticStyle:{display:"inline-block",width:"10px",height:"10px","border-radius":"10px"},style:{"background-color":a.color}}),t("b",{staticClass:"pl-1 pr-2"},[e._v(e._s(s))])]),t("span",{staticClass:"d-block",staticStyle:{position:"absolute","margin-top":"-8px","margin-left":"27px"}},[t("small",[e._v(e._s(a.name)+" "),t("code",[e._v(e._s(a.chain_id))])])])])],1)})),0):"application_xapp_url"!==s||e.sandbox?"_sandbox"===s||"application_xapp_listed"===s||"application_xapp_featured"===s||"application_allow_fetch_kyc_data"===s||"application_allow_ott_appauth"===s||"application_permissions_xapp_push"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[!e.sandbox&&e.xAppData[s]&&e.xAppData[s]>0||"_sandbox"===s&&e.sandbox?t("div",{staticClass:"text-success"},[t("a-icon",{attrs:{theme:"filled",type:"check-circle"}}),e._v(" Yes")],1):t("div",{staticClass:"text-danger"},[t("a-icon",{attrs:{type:"minus-circle",theme:"filled"}}),e._v(" No "),"application_xapp_listed"===s?t("a",{staticClass:"ml-2 text-primary",attrs:{href:"https://docs.xumm.dev/environments/xapps-dapps/requirements#public-listed-xapps",target:"_blank"}},[t("u",[t("b",[e._v("Read more...")])])]):e._e()],1)]):"application_token_exp_days"===s?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[e._v(e._s(e.xAppData[s])+" days after last use (per "),t("code",[e._v("user_token")]),e._v(")")]):"application_xapp_debug_device_uuidv4_bin"===s?t("div",{staticClass:"d-inline-block ml-1 mr-2 text-primary d-block",staticStyle:{position:"relative"}},[e.debugIdChanged&&!e.form.getFieldError("devUuid")?t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-lg mt-0",staticStyle:{position:"absolute",right:"0px","z-index":"2"},on:{click:e.handleSubmit}},[e._v("Save")]):e._e(),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["devUuid",{rules:[{pattern:/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/,required:!1,min:36,max:36,whitespace:!1,message:"Please enter a valid Device ID (36 char. UUIDv4, App: Settings - Advanced)"}]}],expression:"[ 'devUuid', { rules: [\n                  {\n                    pattern: /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/,\n                    required: false,\n                    min: 36, max: 36,\n                    whitespace: false,\n                    message: 'Please enter a valid Device ID (36 char. UUIDv4, App: Settings - Advanced)',\n                  }\n                ] } ]"}],attrs:{size:"large",placeholder:"Xaman device ID (App: Settings - Advanced) allowed to re-fetch OTT data"},on:{change:e.devUuidChange}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e.sandbox&&"application_xapp_debug_devices_uuids"===s?t("div",{staticClass:"d-inline-block ml-1 mr-2 text-primary d-block",staticStyle:{position:"relative"}},[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Guest Device ID's (max. 30, allowed to access your sandboxed xApp) ")]),t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["sandboxUuids",{rules:[{required:!1,whitespace:!0,message:"Please enter one valid Device UUID per line, max. 30",pattern:/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}[\n]{0,1}){1,30}$/}]}],expression:"[\n                  'sandboxUuids',\n                  { rules: [\n                    {\n                      required: false, whitespace: true, message: 'Please enter one valid Device UUID per line, max. 30',\n                      pattern: /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12}[\\n]{0,1}){1,30}$/\n                    }\n                  ] }\n                ]"}],style:{fontSize:"16px",padding:"7px 11px"},attrs:{autosize:{minRows:2,maxRows:12},size:"large",placeholder:"d5017a35-83f6-42e2-b83e-d95ea3028b47"},on:{change:e.sandboxUuidsChange}}),e.sandboxUuidsChanged&&!e.form.getFieldError("sandboxUuids")?t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-lg mt-0",staticStyle:{position:"absolute",right:"0px",bottom:"0","z-index":"2"},on:{click:e.handleSubmit}},[e._v("Save")]):e._e()],1):"application_xapp_url"===s&&e.sandbox?t("div",{staticClass:"d-inline-block ml-1 mr-2 text-primary d-block",staticStyle:{position:"relative"}},[e.xAppDestinationUrlChanged&&!e.form.getFieldError("xAppDestinationUrl")?t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-lg mt-0",staticStyle:{position:"absolute",right:"0px","z-index":"2"},on:{click:e.handleSubmit}},[e._v("Save")]):e._e(),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["xAppDestinationUrl",{rules:[{type:"url",message:"This field must be a valid url."}]}],expression:"[ 'xAppDestinationUrl', { rules: [\n                  {\n                    type: 'url',\n                    message: 'This field must be a valid url.'\n                  }\n                ] } ]"}],attrs:{size:"large",placeholder:"xApp destination URL"},on:{change:e.xAppDestinationUrlChange}},[t("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"tag"},slot:"prefix"})],1)],1):e.xAppData[s]?t("span",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[e._v(e._s(e.xAppData[s]))]):t("span",{staticClass:"d-inline-block ml-1 mr-2 text-primary"},[e._v("-")]):t("span",{staticClass:"d-inline-block ml-1 mr-2 text-muted"},[t("a-icon",{attrs:{type:"link"}}),e._v(" "),t("a",{staticClass:"text-muted",attrs:{href:e.xAppUrl,target:"_blank"}},[t("u",[e._v(e._s(e.xAppData[s]))])])],1)])})),1)],1)],1),t("a-card",{staticClass:"form-padding-sm mt-3"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[t("a-icon",{attrs:{type:"pie-chart"}}),e._v(" xApp Stats "),t("span",{staticClass:"font-weight-normal text-muted"},[e._v("(count "),t("small",[e._v("/ unique users")]),e._v(")")])],1)]),t("div",{staticClass:"form-label-left form-line-height-sm"},[t("a-form",{attrs:{layout:"horizontal"}},[Object.keys(e.stats).indexOf("all_time")<0?t("a-skeleton",{staticClass:"mt-2",attrs:{active:"",title:!1,paragraph:{rows:2}}}):t("a-row",[t("a-col",{staticClass:"py-1",attrs:{span:6}},[t("a-statistic",{staticClass:"bg-light rounded px-3 py-2",staticStyle:{"margin-right":"20px"},attrs:{groupSeparator:"",title:"Opened / 24h",value:e.stats.d1.c},scopedSlots:e._u([{key:"suffix",fn:function(){return[t("span",{staticClass:"text-secondary"},[e._v(" / "+e._s(e.stats.d1.u))])]},proxy:!0}],null,!1,2871075733)})],1),t("a-col",{staticClass:"py-1",attrs:{span:6}},[t("a-statistic",{staticClass:"bg-light rounded px-3 py-2",staticStyle:{"margin-right":"20px"},attrs:{groupSeparator:"",title:"Opened / 30d",value:e.stats.d30.c},scopedSlots:e._u([{key:"suffix",fn:function(){return[t("span",{staticClass:"text-secondary"},[e._v(" / "+e._s(e.stats.d30.u))])]},proxy:!0}],null,!1,3267490183)})],1),t("a-col",{staticClass:"py-1",attrs:{span:6}},[t("a-statistic",{staticClass:"bg-light rounded px-3 py-2",staticStyle:{"margin-right":"20px"},attrs:{groupSeparator:"",title:"Opened (total)",value:e.stats.all_time.c}})],1),t("a-col",{staticClass:"py-1",attrs:{span:6}},[t("a-statistic",{staticClass:"bg-light rounded px-3 py-2",attrs:{groupSeparator:"",title:"Pending Events",value:e.pending_events},scopedSlots:e._u([(Number(e.pending_events)||0)>0?{key:"suffix",fn:function(){return[t("button",{staticClass:"ml-1 btn btn-sm px-2 py-0 btn-danger",staticStyle:{position:"relative",top:"-4px"},on:{click:e.purgePendingEvents}},[e._v("Purge")])]},proxy:!0}:null],null,!0)})],1)],1)],1)],1)]),t("a-card",{directives:[{name:"show",rawName:"v-show",value:Object.keys(e.stats).indexOf("all_time")>-1,expression:"Object.keys(stats).indexOf('all_time') > -1"}],staticClass:"form-padding-sm mt-3"},[t("span",{attrs:{slot:"title"},slot:"title"},[t("b",[t("a-icon",{attrs:{type:"pie-chart"}}),e._v(" Auto stats export to Google BigQuery")],1)]),t("div",{staticClass:"form-label-left form-line-height-sm"},[t("a-form",{attrs:{layout:"horizontal"}},[e.extStatsLoaded?t("a-row",[t("a-col",{staticClass:"py-1 px-2",attrs:{span:24}},[e.extStatsActive?t("div",[t("div",{staticClass:"text-success"},[t("a-icon",{attrs:{theme:"filled",type:"check-circle"}}),e._v(" Google BigQuery dataset stats publishing: Enabled")],1),t("br"),t("b",[e._v("External dataset:")]),t("div",[t("a",{staticClass:"text-primary fw-bold font-bold",attrs:{href:"https://console.cloud.google.com/bigquery?ws=!1m5!1m4!4m3!1sxamandb!2sxappstats!3s"+this.$store.selectedApplication,target:"_blank"}},[t("code",{staticClass:"text-primary"},[t("strong",[t("u",[e._v("xamandb.xappstats."+e._s(e.$store.selectedApplication))])])])])]),t("br"),t("b",[e._v("Example query:")]),t("pre",{staticClass:"pl-4 text-primary"},[e._v("SELECT *\nFROM `xamandb.xappstats."+e._s(e.$store.selectedApplication)+"`\nORDER BY moment DESC\nLIMIT 1")]),t("div",{staticClass:"mt-3"},[t("h5",[t("b",[e._v("Authorizations")])]),0===e.extStatsUsers.length?t("div",{staticClass:"px-2 py-1 alert alert-danger"},[e._v(" There are no authorized users yet, this dataset cannot be queried. Please add a user below. ")]):t("div",[t("ul",{staticClass:"list"},e._l(e.extStatsUsers,(function(a){return t("li",{key:a},[t("code",{staticClass:"text-dark"},[e._v(e._s(a))]),e._v(" "),t("a",{on:{click:function(t){return e.revokeExtUser(a)}}},[t("code",{staticClass:"text-danger"},[e._v("×")])])])})),0)])]),t("div",{staticClass:"mt-3"},[t("h5",[t("b",[e._v("Add user(s)")])]),e._v(" To authorize a Google account (Google Apps / For Work / Gmail / ...) to access the dataset with xApp stats, enter an email address: ")]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.extStatsUsr,expression:"extStatsUsr"}],staticClass:"input form-control input-sm",attrs:{type:"text",value:"",placeholder:"Google user account, e.g. my-db-admin@gmail.com"},domProps:{value:e.extStatsUsr},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addExtStatUsr.apply(null,arguments)},input:function(t){t.target.composing||(e.extStatsUsr=t.target.value)}}}),t("div",{staticClass:"text-right"},[t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-md mt-2",attrs:{disabled:""===e.extStatsUsr.trim()},on:{click:e.addExtStatUsr}},[e._v("Authorize Google account")])])])]):t("div",[e._v(" To automatically export xApp stats to Google BigQuery for your own detailed analysis or dashboards, activate Google BigQuery stats publishing. We will create a private dataset for you. You can then add one or more Google Accounts authorized to access the dataset. "),t("br"),t("div",{staticClass:"text-right"},[t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-md mt-2",on:{click:e.activateExtStats}},[e._v("Activate xApp stats publishing")])])])])],1):t("a-skeleton",{staticClass:"mt-2",attrs:{active:"",title:!1,paragraph:{rows:3}}})],1)],1)])],1):t("a-alert",{attrs:{message:"xApp features not enabled",type:"info","show-icon":""}},[t("div",{attrs:{slot:"description"},slot:"description"},[t("h6",{staticClass:"text-danger"},[e._v("To enable xApp features, "),t("b",[e._v("please read the rules")]),e._v(" below "),t("b",[t("u",[e._v("carefully")])]),e._v(":")]),t("ul",[t("li",[e._v("You can enroll for a "),t("b",[e._v("sandbox xApp")])]),t("li",[e._v("Only "),t("b",[e._v("you")]),e._v(" can use your own "),t("b",[e._v("sandbox xApp")]),e._v(" from a specific Xaman installation you can whitelist after activating xApp features.")]),t("li",[e._v("The fact that you got a sandbox xApp is not to be presented anywhere as an endorsement (e.g. in communication like on social media, etc.))")]),t("li",[e._v("To build an xApp, you need to have experience with Frontend Web Development as xApps are WebApps (loaded in Xaman)")]),t("li",[e._v("xApps need to add value to a significant share of the Xaman user base")]),t("li",[e._v("xApps need to be self explanatory to have clear instructions for end users")]),t("li",[e._v("xApps need to be designed in a way where users can not make dangerous mistakes: users need to be protected")]),t("li",[e._v("xApps developers can not be anonymous (accountability)")]),t("li",[e._v("Promotion of speculation, pushing users towards buying tokens "),t("b",[e._v("is not allowed")]),e._v(" (see: user protection)")]),t("li",[e._v("Activating xApp features and building a "),t("b",[e._v("sandbox xApp")]),e._v(" does "),t("b",[t("u",[e._v("NOT")])]),e._v(" guarantee your xApp will be going live in the future. To take your xApp live, it will be audited by XRPL Labs. The rules above apply, security & usability will be tested. If you want to have more certainty in advance, please reach "),t("a",{attrs:{href:"https://docs.xumm.dev/environments/xapps-dapps/requirements#public-listed-xapps",target:"_blank"}},[e._v("read our Developer Help Center docs")]),e._v(" out to XRPL Labs. "),t("a",{attrs:{href:"https://xumm.app/detect/xapp:xumm.support-md",target:"_blank"}},[t("b",[e._v("Submit a support ticket here")])])])]),t("button",{staticClass:"ant-btn ant-btn-primary ant-btn-md mt-2",on:{click:e.xAppSandboxActivate}},[e._v("I agree. Please activate xApp features")])])])],1):e._e()},rt=[function(){var e=this,t=e._self._c;return t("p",[e._v(" xApps are WebApps, embedded in Xaman for a great user experience. They add value (tooling, wizards) for end users, using Sign Requests and their Web UI to help users perform tasks on the XRPL and beyond. "),t("a",{attrs:{href:"https://docs.xumm.dev/environments/xapps-dapps",target:"_blank"}},[t("b",[e._v("Read more about xApps in the Developer Docs")])]),e._v(". ")])}],it=a("d2ac"),nt=it["a"],ot=Object(f["a"])(nt,st,rt,!1,null,null,null),ct=ot.exports,lt=function(){var e=this,t=e._self._c;return e.$store.appName?t("div",{},[t("h3",{staticClass:"mb-1"},[e._v("Permissions")]),t("h5",{staticClass:"mb-3"},[t("a-icon",{attrs:{type:"team"}}),e._v(" "+e._s(e.$store.appName))],1),e.$store.isAppOwner?t("div",[e._m(0),t("a-select",{staticStyle:{width:"100%"},attrs:{size:"large",allowClear:!0,mode:"tags","token-separators":[","]},on:{change:e.changeAddresses},model:{value:e.selectedAccounts,callback:function(t){e.selectedAccounts=t},expression:"selectedAccounts"}},[e.knownAccounts.filter((function(t){return e.selectedAccounts.indexOf(t.value)<0})).length<1?t("a-select-option",{key:"empty",attrs:{disabled:""}},[e._v(" Enter any (signed in) r-address allowed to manage this application. ")]):e._e(),e._l(e.knownAccounts,(function(a){return t("a-select-option",{key:a.value},[e._v(" "+e._s(a.value)+" ")])}))],2),t("a-button",{staticClass:"float-right mt-2",attrs:{disabled:!e.changed,type:"primary"},on:{click:e.persist}},[t("a-icon",{staticClass:"mr-2",attrs:{type:"save"}}),t("strong",[e._v("Save")])],1)],1):t("div",[t("a-alert",{staticClass:"text-left mb-3",attrs:{showIcon:""}},[t("span",{attrs:{slot:"message"},slot:"message"},[t("b",[e._v("Shared application access")]),t("br"),e._v(" This application has been shared with you by "),t("code",[e._v(e._s(e.$store.app.details.application_auth0_owner))]),e._v(". You can view all data and make most of changes yourself, but for some operations you will have to reach out to the person who shared this application with you. ")])]),t("div",[e._v("As this application has been shared with you, you cannot share this application with additional people. Only the application owner can update the application permissions.")])],1)]):e._e()},pt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"mb-3"},[e._v("Enter one or more r-addresses allowed to manage this application. The account owner "),t("b",[e._v("will not")]),e._v(" receive an invitation/notification: it is up to you to inform the account owner.")])}],dt=a("75fc"),ut=(a("55dd"),a("fcf6")),ht={name:"AppPermissions",components:{},data:function(){return{knownAccounts:[],selectedAccounts:[],preEditAccounts:[]}},props:{},watch:{"$store.selectedApplication":function(){this.prepare()}},created:function(){},mounted:function(){this.prepare()},computed:{changed:function(){return Object(dt["a"])(this.selectedAccounts).sort().join("")!==Object(dt["a"])(this.preEditAccounts).sort().join("")}},destroyed:function(){},methods:{prepare:function(){this.selectedAccounts=[],"string"===typeof this.$store.app.details.application_shared_with&&(this.selectedAccounts=this.$store.app.details.application_shared_with.split(",")),this.preEditAccounts=Object(dt["a"])(this.selectedAccounts),this.knownAccounts=this.$store.sharedAccounts.map((function(e){return{value:e,label:e}}))},persist:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Store",this.$store.selectedApplication,this.selectedAccounts),e.next=3,this.$store.api("post","console/known-shared-accounts",{app:this.$store.selectedApplication,sharedWith:this.selectedAccounts});case 3:this.preEditAccounts=Object(dt["a"])(this.selectedAccounts),this.$store.app.details.application_shared_with=this.preEditAccounts.join(",");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeAddresses:function(){var e=this,t=this.$createElement;this.selectedAccounts.forEach((function(a){var s=Object(ut["isValidClassicAddress"])(a);s||(e.selectedAccounts.splice(e.selectedAccounts.indexOf(a),1),"empty"!==a&&e.$notification.error({message:"Invalid r-address entered",description:t("div",[t("q",[t("code",[a])]),t("br"),"Check for typos, white space, etc. Addresses are case sensitive."]),placement:"topRight"}))}))}}},mt=ht,ft=(a("61d7"),Object(f["a"])(mt,lt,pt,!1,null,null,null)),vt=ft.exports,gt=function(){var e=this,t=e._self._c;return t("a-layout",{style:{maxHeight:"calc(100vh - 64px)",height:"calc(100vh - 64px)"}},[e.$store.appName?t("a-layout-content",{style:{padding:"12px 16px"}},[t("div",{staticClass:"center-middle"},[t("a-icon",{staticClass:"mr-2",attrs:{type:"loading"}}),e._v(" Redirecting... ")],1)]):e._e()],1)},bt=[],_t={name:"Docs",components:{},data:function(){return{docsUrl:""}},props:{},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJwt();case 2:history.replaceState({},"",this.$router.currentRoute.fullPath.replace(/docs/,"app-settings")),window.location.href=this.docsUrl;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{},methods:{getJwt:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("GET","console/docs-jwt/"+this.$store.selectedApplication);case 2:t=e.sent,console.log(t),this.docsUrl=t.finalUrl;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},yt=_t,xt=(a("b0a7"),Object(f["a"])(yt,gt,bt,!1,null,"729fc5f1",null)),wt=xt.exports,kt=function(){var e=this,t=e._self._c;return t("a-layout",{style:{maxHeight:"calc(100vh - 64px)",minHeight:"inherit"}},[t("a-layout-sider",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.data.length>0,expression:"!loading && data.length > 0"}],style:{maxHeight:"inherit",overflow:"hidden",borderRight:"1px solid #e8e8e8",backgroundColor:"#FCFCFC"},attrs:{id:"record-scroller",width:"300",theme:"light"}},[t("div",{staticClass:"bg-light shadow-sm pl-2 pr-0 mr-0 py-2",staticStyle:{"margin-bottom":"-1px",height:"47px",position:"relative"}},[t("a-input-group",{staticStyle:{position:"absolute",top:"7px",left:"8px",bottom:"0",right:"0"}},[t("a-row",{attrs:{gutter:3}},[t("a-col",{attrs:{span:20}},[t("a-input",{attrs:{placeholder:"app-payloads"===e.$router.currentRoute.name?"Search by UUID/TX ID":"Search by UUID","default-value":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchByUuid.apply(null,arguments)}},model:{value:e.searchUuid,callback:function(t){e.searchUuid=t},expression:"searchUuid"}})],1),t("a-col",{attrs:{span:4}},[t("a-button",{attrs:{disabled:!e.validSearchUuid,type:"primary",icon:"search"},on:{click:e.searchByUuid}})],1)],1)],1)],1),t("a-card",{style:{overflow:"hidden",height:"calc(100vh - 61px - 47px)",marginTop:"-2px",marginBottom:"-1px",marginLeft:"-2px",borderRight:"none"},attrs:{bodyStyle:{padding:"0",height:"inherit",overflow:"scroll"}}},e._l(e.data,(function(a){return t("router-link",{key:a.call_uuidv4,class:{new:"undefined"!==typeof a.new,active:a===e.selectedRecord},staticStyle:{position:"relative"},attrs:{id:a.call_uuidv4,tag:"a-card-grid",to:{name:e.$router.currentRoute.name,params:{appId:e.$store.selectedApplication,record:a.call_uuidv4}}}},["app-logs"===e.$route.name?t("div",{staticClass:"logs"},[t("div",{staticClass:"icons"},["app"===a.call_type?t("a-tooltip",{staticClass:"icon",attrs:{placement:"right",title:"User initiated (App)"}},[t("a-icon",{class:e.bgColor(e.$router.currentRoute.name,a),attrs:{type:"meh",theme:"filled"}})],1):e._e(),a.call_emessage?t("a-tooltip",{staticClass:"icon",attrs:{placement:"right",title:"Error reference attached"}},[t("a-icon",{class:e.bgColor(e.$router.currentRoute.name,a),attrs:{type:"sound",theme:"filled"}})],1):e._e(),a.call_emessage||200===a.call_httpcode?e._e():t("a-tooltip",{staticClass:"icon",attrs:{placement:"right",title:"Non HTTP200 response code"}},[t("a-icon",{class:e.bgColor(e.$router.currentRoute.name,a),attrs:{type:"warning",theme:"filled"}})],1),a.payload_uuidv4?t("a-tooltip",{staticClass:"icon",attrs:{placement:"right",title:"Payload stored"}},[t("a-icon",{class:e.bgColor(e.$router.currentRoute.name,a),attrs:{type:"build",theme:"filled"}})],1):e._e(),a.token_accesstoken?t("a-tooltip",{staticClass:"icon",attrs:{placement:"right",title:"Pushed using client access token"}},[t("a-icon",{class:e.bgColor(e.$router.currentRoute.name,a),attrs:{type:"alert",theme:"filled"}})],1):e._e()],1),t("span",{staticClass:"indicator",class:e.bgColor(e.$router.currentRoute.name,a)}),t("code",{staticClass:"badge text-dark text-left guid"},[e._v(e._s(a.call_uuidv4))]),t("div",{staticClass:"data"},[t("div",{staticClass:"no-overflow correct-code-lh mh-badge"},[t("span",{staticClass:"badge mr-1",class:{"badge-primary":"POST"===a.call_method,"badge-success":"GET"===a.call_method,"badge-info":"PATCH"===a.call_method,"badge-danger":"DELETE"===a.call_method,"badge-secondary":["GET","POST"].indexOf(a.call_method)<0}},[e._v(e._s(a.call_method))]),t("code",{staticClass:"text-dark"},[e._v(e._s(a.call_url))])]),t("div",{staticClass:"ip-and-agent no-overflow"},[a.call_moment?t("vue-moments-ago",{attrs:{prefix:"",suffix:"ago",date:new Date(1e3*a.call_moment_ts).toISOString(),lang:"en"}}):e._e(),e._v(" "+e._s(a.call_useragent?" (":"")+e._s(a.call_useragent)+e._s(a.call_useragent?")":"")+" ")],1)])]):e._e(),"app-payloads"===e.$route.name?t("div",{staticClass:"logs"},[t("span",{staticClass:"indicator",class:e.bgColor(e.$router.currentRoute.name,a)}),t("code",{staticClass:"badge text-dark text-left guid"},[e._v(e._s(a.call_uuidv4))]),t("div",{staticClass:"data wide"},[t("div",{staticClass:"no-overflow correct-code-lh mh-badge"},[t("div",{staticClass:"pt-1 pr-2 d-inline-block"},[t("b",[e._v(e._s(a.payload_tx_type))]),""!==String(a.meta_string||"")?t("code",{staticClass:"meta-str"},[e._v(" "+e._s(a.meta_string)+" ")]):e._e()]),a.__payload_expired&&!a.payload_response_hex?t("span",{staticClass:"badge float-right alert-danger ml-1 mt-1 badge-danger"},[e._v("Expired")]):e._e(),a.payload_response_hex?t("span",{staticClass:"badge float-right alert-success ml-1 mt-1 badge-success"},[t("a-icon",{attrs:{type:"like"}}),e._v(" Signed")],1):e._e(),a.payload_app_opencount?t("span",{staticClass:"badge float-right alert-primary ml-1 mt-1 badge-primary"},[t("a-icon",{attrs:{type:"mobile"}}),e._v(" Opened")],1):e._e()]),t("div",{staticClass:"ip-and-agent pt-1 no-overflow"},[a.payload_created?t("vue-moments-ago",{attrs:{prefix:"",suffix:"ago",date:new Date(1e3*a.payload_created_ts).toISOString(),lang:"en"}}):e._e()],1)])]):e._e()])})),1)],1),t("a-layout-content",{style:{padding:"12px 16px"}},[e.loading?t("div",{staticClass:"center-middle"},[t("a-icon",{staticClass:"mr-2",attrs:{type:"loading"}}),e._v(" Loading data... ")],1):e._e(),e.loading||0!==e.data.length?e._e():t("div",{staticClass:"center-middle"},[t("div",{staticClass:"text-center"},[t("b",[t("div",{staticClass:"d-block"},[t("a-icon",{attrs:{type:"clock-circle"}}),e._v(" No records found.")],1)]),t("br"),t("div",{staticClass:"d-block"},[e._v("Please check the "),t("a",{staticClass:"ant-btn ant-btn-sm",attrs:{href:"https://docs.xumm.dev/concepts/getting-started",target:"_blank",size:"small"}},[e._v("Docs")]),e._v(" to learn how to get started.")])])]),t("router-view",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.data.length>0,expression:"!loading && data.length > 0"}],attrs:{record:e.selectedRecord}})],1)],1)},Ct=[],$t=a("523e"),At={name:"RouteSidebarRecords",components:{VueMomentsAgo:$t["a"]},data:function(){return{loading:!0,data:[],websocket:null,missedRecords:0,searchUuid:""}},computed:{selectedRecord:function(){var e=this,t=this.data.filter((function(t){return String(e.$route.params.record)===t.call_uuidv4}));return 1===t.length?t[0]:null},validSearchUuid:function(){return this.searchUuid.match(/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i)||this.searchUuid.match(/^[0-9A-F]{64}$/)}},watch:{"$route.name":function(){this.fetchData(),this.missedRecords=0},"$store.selectedApplication":function(){this.fetchData()}},methods:{searchByUuid:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.$createElement,!this.validSearchUuid||(null===(t=this.$router.currentRoute.params)||void 0===t?void 0:t.record)===this.searchUuid){e.next=6;break}return e.next=4,this.$store.api("get","console/"+this.api()+"/"+this.$store.selectedApplication+"/"+this.searchUuid.toLowerCase()+"?one=true");case 4:s=e.sent,Array.isArray(s)&&1===s.length?(this.searchUuid=s[0].call_uuidv4,this.$router.push({name:this.$router.currentRoute.name,params:{appId:this.$store.selectedApplication,record:this.searchUuid}}),this.data.filter((function(e){return e.call_uuidv4===s[0].call_uuidv4})).length<1&&this.data.unshift(s[0]),this.$nextTick((function(){var e=document.getElementById(r.selectedRecord.call_uuidv4);e&&document.getElementById("record-scroller").querySelector(".ant-card-body").scrollTo({top:e.offsetTop})}))):this.$notification.open({key:"record_no_found",message:function(){return a("span",["Record not found"])},description:function(){return a("code",[r.searchUuid.toLowerCase()])},placement:"bottomRight",duration:10});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),liveDataUpdate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("get","console/"+this.api()+"/"+this.$store.selectedApplication);case 2:t=e.sent,t.forEach((function(e){var t=a.data.filter((function(t){return t.call_uuidv4===e.call_uuidv4}));t.length>0&&Object.assign(t[0],e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleUpdate:function(e){var t=this,a=this.$createElement;if("app-payloads"!==this.$route.name||"payload"===e.endpoint){if("app-payloads"===this.$route.name&&"app"===e.type&&this.data.map((function(e){return e.call_uuidv4})).indexOf(e.call)>-1)return console.log("Update for listed payload"),this.liveDataUpdate();console.log(e),"app-payloads"===this.$route.name&&this.data.map((function(e){return e.call_uuidv4})).indexOf(e.call)>-1||"app-payloads"===this.$route.name&&"string"===typeof e.extRef&&this.data.map((function(e){return e.call_uuidv4})).indexOf(e.extRef.split("(").reverse()[0].split(")")[0])>-1||(this.missedRecords++,this.$notification.open({key:"ws_update",message:function(){return a("span",["Updated data (",a("b",[t.missedRecords]),")"])},description:function(){var e=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$notification.close("ws_update"),t.missedRecords=0,a=t.data.map((function(e){return e.call_uuidv4})),e.next=5,t.$store.api("get","console/"+t.api()+"/"+t.$store.selectedApplication);case 5:s=e.sent,t.data.forEach((function(e){e.new=void 0})),s.filter((function(e){return a.indexOf(e.call_uuidv4)<0})).forEach((function(e){t.data.unshift(Object.assign(e,{new:!0}))})),t.data.length>250&&(t.data=t.data.slice(0,50)),t.$nextTick((function(){document.getElementById("record-scroller").querySelector(".ant-card-body").scrollTo({top:0})}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=t.$createElement("a-button",{props:{type:"primary",size:"small"},on:{click:e}},"Reload");return a("div",["There are new record(s) available since you opened this page.",a("div",{class:"text-right"},[s])])},placement:"bottomRight",duration:10}))}},closeWebsocket:function(){if(null!==this.websocket)try{this.websocket.close(),this.websocket=null}catch(e){}},connectWebsocket:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeWebsocket(),e.next=3,this.$auth.getTokenSilently();case 3:t=e.sent,this.websocket=new WebSocket(this.$store.apiEndpoint.replace(/^http/,"ws").split("/").slice(0,3).join("/")+"/app/"+this.$store.selectedApplication),this.websocket.onopen=function(){console.log("WS opened"),a.websocket.send(JSON.stringify({auth:"Bearer "+t}))},this.websocket.onclose=function(e){e.wasClean?console.log("WS closed intentionally"):(console.log("WS closed -RECONNECT-"),setTimeout((function(){a.connectWebsocket()}),3e3))},this.websocket.onmessage=function(e){try{var t=JSON.parse(e.data);"undefined"===typeof t.message&&a.handleUpdate(t)}catch(s){}};case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bgColor:function(e,t){return"app-logs"===e?200===t.call_httpcode?"payload"===t.call_endpoint&&"POST"===t.call_method?"bg-primary":"payload"===t.call_endpoint&&"PATCH"===t.call_method?"bg-info":"payload"===t.call_endpoint&&"DELETE"===t.call_method?"bg-danger":"bg-success":(t.call_endpoint,"bg-danger"):"app-payloads"===e?"SignIn"===t.payload_tx_type?"bg-success":"Payment"===t.payload_tx_type?"bg-primary":null===t.payload_tx_type?"bg-danger":"bg-secondary":""},api:function(){var e=this.$route.name.replace(/^app-/,"");return"logs"===e&&(e="calls"),e},fetchData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$store.api("get","console/"+this.api()+"/"+this.$store.selectedApplication+"/"+(t||""));case 3:if(a=e.sent,this.data=[],!(a.length>0)){e.next=13;break}if(!(!t&&this.$route.params.record&&a.filter((function(e){return e.call_uuidv4===s.$route.params.record})).length<1)){e.next=11;break}return e.next=9,this.fetchData(this.$route.params.record);case 9:e.next=13;break;case 11:a.forEach((function(e){s.data.push(e)})),this.selectedRecord&&this.$nextTick((function(){var e=document.getElementById(s.selectedRecord.call_uuidv4);e&&document.getElementById("record-scroller").querySelector(".ant-card-body").scrollTo({top:e.offsetTop})}));case 13:this.loading=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},destroyed:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.closeWebsocket();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fetchData(),this.connectWebsocket();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},jt=At,St=(a("55e1"),a("3494"),Object(f["a"])(jt,kt,Ct,!1,null,"1d643a52",null)),Ot=St.exports,Rt=[{path:"/",name:"home",component:ae,meta:{padding:!1,clearSelectedApp:!0}},{path:"/create-application",name:"create-application",component:Ce,meta:{padding:!0,clearSelectedApp:!0}},{path:"/manage-app-settings",name:"manage-app-settings",component:Ie,meta:{padding:!0,clearSelectedApp:!0}},{path:"/:appId?/app-settings",name:"app-settings",component:qe,meta:{padding:!0,appRequired:!0}},{path:"/:appId?/app-xapp",name:"app-xapp",component:ct,meta:{padding:!0,appRequired:!0}},{path:"/:appId?/permissions",name:"permissions",component:vt,meta:{padding:!0,appRequired:!0}},{path:"/:appId?/app-logs/:record([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12})?",component:Ot,children:[{name:"app-logs",path:"",component:Ye,meta:{appRequired:!0}}],meta:{padding:!0,appRequired:!0}},{path:"/:appId?/app-payloads/:record([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89ABab][0-9a-fA-F]{3}-[0-9a-fA-F]{12})?",component:Ot,children:[{name:"app-payloads",path:"",component:at,meta:{appRequired:!0}}],meta:{padding:!0,appRequired:!0}},{path:"/:appId?/docs",name:"docs",component:wt,meta:{padding:!1,appRequired:!0}},{path:"*",name:"FourOhFour",component:ce,meta:{padding:!0}}],Pt=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a,s){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object.keys(t.meta).indexOf("clearSelectedApp")>-1&&t.meta.clearSelectedApp&&(X.selectedApplication=""),!(Object.keys(t.params).indexOf("appId")>-1&&X.selectedApplication!==t.params.appId)){e.next=10;break}if("undefined"===typeof X.applications[t.params.appId]){e.next=6;break}X.selectedApplication=t.params.appId,e.next=10;break;case 6:return e.next=8,X.appsLoadedPromise;case 8:r=e.sent,r.indexOf(t.params.appId)>-1&&(X.selectedApplication=t.params.appId);case 10:Object.keys(t.meta).indexOf("appRequired")>-1&&t.meta.appRequired&&""===X.selectedApplication?s({path:"/",query:{next:t.name}}):s();case 11:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Ut=(a("386d"),a("6762"),a("2fdb"),a("a8db")),Dt=a("9767"),Et=["onRedirectCallback","redirectUri"],It=function(){return window.history.replaceState({},document.title,window.location.pathname)},Tt=function(e){var t=e.onRedirectCallback,a=void 0===t?It:t,r=e.redirectUri,i=void 0===r?"/docs"===window.location.pathname?window.location.href:window.location.origin:r,n=Object(Ut["a"])(e,Et);return Je||(Je=new s["a"]({data:function(){return{loading:!0,loadingXumm:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.popupOpen=!0,e.prev=1,e.next=4,this.auth0Client.loginWithPopup(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),console.error(e.t0);case 9:return e.prev=9,this.popupOpen=!1,e.finish(9);case 12:return e.next=14,this.auth0Client.getUser();case 14:this.user=e.sent,this.isAuthenticated=!0,this.$emit("ready");case 17:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));function t(t){return e.apply(this,arguments)}return t}(),handleRedirectCallback:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,this.auth0Client.handleRedirectCallback();case 4:return e.next=6,this.auth0Client.getUser();case 6:this.user=e.sent,this.isAuthenticated=!0,this.$emit("ready"),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),this.error=e.t0;case 14:return e.prev=14,this.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}(),loginWithRedirect:function(e){return this.auth0Client.loginWithRedirect(e)},getIdTokenClaims:function(e){return this.auth0Client.getIdTokenClaims(e)},getTokenSilently:function(e){return this.auth0Client.getTokenSilently(e)},getTokenWithPopup:function(e){return this.auth0Client.getTokenWithPopup(e)},logout:function(e){return this.auth0Client.logout(e)}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Dt["a"])({domain:n.domain,client_id:n.clientId,audience:n.audience,redirect_uri:i,cacheLocation:"localstorage"});case 2:if(this.auth0Client=e.sent,e.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,this.auth0Client.handleRedirectCallback();case 7:t=e.sent,s=t.appState,a(s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.error=e.t0;case 15:return e.prev=15,e.next=18,this.auth0Client.isAuthenticated();case 18:return this.isAuthenticated=e.sent,this.isAuthenticated&&this.$emit("ready"),e.next=22,this.auth0Client.getUser();case 22:return this.user=e.sent,this.loading=!1,e.finish(15);case 25:this.$nextTick((function(){n.router.app.$emit("auth-registered")}));case 26:case"end":return e.stop()}}),e,this,[[3,12,15,25]])})));function t(){return e.apply(this,arguments)}return t}()}),Je)},Nt={install:function(e,t){e.prototype.$auth=Tt(t)}};s["a"].config.productionTip=!1,s["a"].use(N["a"]),s["a"].use(r["a"]);var Ft=new window.Xumm("9356ad64-1853-4315-b0f4-82b71b093039");s["a"].prototype.$xumm=Ft;var Lt=new r["a"]({mode:"history",routes:Rt});Lt.beforeEach(Pt),s["a"].use(Nt,{domain:"xumm.eu.auth0.com",clientId:"VegBbcajHqbdBhhKtddyP7WHGmTkMhZR",audience:"https://_backend.xumm.app",router:Lt,onRedirectCallback:function(e){Lt.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}}),s["a"].use(W,{router:Lt}),new s["a"]({render:function(e){return e(T)},router:Lt}).$mount("#app")},"5ae5":function(e,t,a){},"5c5c":function(e,t,a){},"5fab":function(e,t,a){},"61bc":function(e,t,a){"use strict";a("da0a")},"61d7":function(e,t,a){"use strict";a("31a1")},"6afe":function(e,t,a){},9524:function(e,t,a){"use strict";a("2aae")},"9ad6":function(e,t,a){"use strict";a("5fab")},"9e7a":function(e,t,a){"use strict";a("5c5c")},a03d:function(e,t,a){},b0a7:function(e,t,a){"use strict";a("d2d0")},b9c2:function(e,t,a){"use strict";a("3618")},bbc6:function(e,t,a){},d2ac:function(e,t,a){"use strict";(function(e){a("8e6e"),a("28a5"),a("a481"),a("c5f6"),a("6b54"),a("96cf");var s=a("3b8d"),r=(a("ac6a"),a("456d"),a("bd86"));a("4917");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t["a"]={name:"AppXapp",components:{},data:function(){return{rails:{},pending_events:"...",stats:{},originalDebugId:"",originalsandboxUuids:"",originalxAppDestinationUrl:"",debugIdChanged:!1,sandboxUuidsChanged:!1,xAppDestinationUrlChanged:!1,extStatsLoaded:!1,extStatsActive:!1,extStatsUsers:[],extStatsUsr:""}},props:{},watch:{"$store.selectedApplication":function(){var e=this;this.stats={},this.fetchStats(),this.$store.appsLoadedPromise.then((function(){console.log("Apps loaded"),e._created()}))}},created:function(){this._created()},mounted:function(){var e=this;this.fetchStats(),this.getExtStatsState(),this.$store.api("GET","platform/rails").then((function(t){e.rails=t}))},computed:{sandbox:function(){return this.$store.app.details.application_xapp_identifier.match(/sandbox/)},xAppUrl:function(){return this.$store.app.details.application_xapp_url+(this.$store.app.details.application_xapp_url.match(/\?/)?"&":"?")+"xAppToken=00000000-0000-0000-0000-000000000000&xAppStyle=LIGHT"},xAppDataFieldName:function(){return n({_sandbox:"Sandboxed",application_xapp_identifier:"Deeplink / QR Value",application_xapp_url:"WebApp URL",application_xummloader:"Xaman Loader Screen",application_xapp_networks:"Available for networks",application_no_netswitch_rld:"Network Switch Event",application_no_monetization:"Disable monetisation",application_xapp_listed:"Listed",application_xapp_featured:"Featured",application_permissions_xapp_push:"Push permission",application_token_exp_days:"User Token Expiration",application_xapp_debug_device_uuidv4_bin:"Debug Device ID"},this.sandbox?{application_xapp_debug_devices_uuids:"Guest Device IDs"}:{})},xAppData:function(){var e=this;return Object.keys(this.$store.app.details).filter((function(t){return Object.keys(e.xAppDataFieldName).indexOf(t)>-1})).reduce((function(t,a){return Object.assign(t,Object(r["a"])({},a,e.$store.app.details[a])),t}),{})}},destroyed:function(){},methods:{addExtStatUsr:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.extStatsUsr.trim(),!(""!==this.extStatsUsr.trim()&&this.extStatsUsers.indexOf(t)<0)){e.next=9;break}return this.extStatsUsers.push(t),this.extStatsUsr="",e.next=6,this.$store.api("POST","console/xapp/"+this.$store.selectedApplication+"/ext-stats",{user:t});case 6:a=e.sent,console.log(a),this.getExtStatsState();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),revokeExtUser:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.extStatsUsers.indexOf(t),!(a>-1)){e.next=7;break}return this.extStatsUsers.splice(a,1),e.next=5,this.$store.api("DELETE","console/xapp/"+this.$store.selectedApplication+"/ext-stats",{user:t});case 5:s=e.sent,console.log(s);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),activateExtStats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("POST","console/xapp/"+this.$store.selectedApplication+"/ext-stats");case 2:t=e.sent,console.log(t),this.extStatsActive=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getExtStatsState:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("GET","console/xapp/"+this.$store.selectedApplication+"/ext-stats");case 2:t=e.sent,this.extStatsLoaded=!0,console.log(t),this.extStatsActive=!(null===t||void 0===t||!t.active),this.extStatsUsers=(null===t||void 0===t?void 0:t.grants)||[];case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),purgePendingEvents:function(){this.pending_events="0",this.$store.api("DELETE","console/xapp/"+this.$store.selectedApplication+"/xapp-events").then((function(e){console.log("Removed events",e)})),this.fetchStats()},_created:function(){var t;null!==(t=this.$store.app.details.application_xapp_debug_device_uuidv4_bin)&&void 0!==t&&t.data&&this.tempDebugId(e.from(this.$store.app.details.application_xapp_debug_device_uuidv4_bin.data).toString("hex").toUpperCase()),this.$store.app.details.application_xapp_debug_devices_uuids&&this.tempsandboxUuids((this.$store.app.details.application_xapp_debug_devices_uuids||"").toUpperCase()),this.$store.app.details.application_xapp_url&&this.tempxAppUrl(this.$store.app.details.application_xapp_url),this.createForm()},xAppSandboxActivate:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.api("POST","console/xapp/"+this.$store.selectedApplication+"/activate",{});case 2:t=e.sent,null!==t&&void 0!==t&&t.valid?this.$store.fetchApps():this.$message.error("Your xApp could not be activated");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),tempxAppUrl:function(e){this.originalxAppDestinationUrl=e,this.$store.app.details.application_xapp_url=e,this.xAppDestinationUrlChanged=!1},tempDebugId:function(t){this.originalDebugId=t,this.$store.app.details.application_xapp_debug_device_uuidv4_bin=e.from(this.originalDebugId,"hex"),this.devUuidChange()},tempsandboxUuids:function(e){this.originalsandboxUuids=e,this.$store.app.details.application_xapp_debug_devices_uuids=this.originalsandboxUuids.toUpperCase(),this.sandboxUuidsChange()},xAppDestinationUrlChange:function(){var e=this;this.$nextTick((function(){e.originalxAppDestinationUrl===e.form.getFieldValue("xAppDestinationUrl")?e.xAppDestinationUrlChanged=!1:e.xAppDestinationUrlChanged=!0}))},xummLoaderChange:function(e){var t=this;this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$store.app.details.application_xummloader=Number(t.form.getFieldValue("xummLoader")),t.handleSubmit(e);case 2:case"end":return a.stop()}}),a)}))))},xummEventChange:function(e){var t=this;this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$store.app.details.application_no_netswitch_rld=Number(t.form.getFieldValue("xummEvent")),t.handleSubmit(e);case 2:case"end":return a.stop()}}),a)}))))},xummNoMonChange:function(e){var t=this;this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$store.app.details.application_no_monetization=Number(t.form.getFieldValue("xummNoMon")),t.handleSubmit(e);case 2:case"end":return a.stop()}}),a)}))))},xummNetworkChange:function(e){var t=this;this.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=t.$store.app.details.application_xapp_networks.indexOf(e),s>-1?t.$store.app.details.application_xapp_networks.splice(s,1):t.$store.app.details.application_xapp_networks.push(e),t.handleSubmit();case 3:case"end":return a.stop()}}),a)}))))},devUuidChange:function(){var e=this;this.$nextTick((function(){e.originalDebugId===e.form.getFieldValue("devUuid").toUpperCase().replace(/[^A-F0-9]/g,"")?e.debugIdChanged=!1:e.debugIdChanged=!0}))},sandboxUuidsChange:function(){var e=this;this.$nextTick((function(){e.originalsandboxUuids.toUpperCase()===e.form.getFieldValue("sandboxUuids").toUpperCase()?e.sandboxUuidsChanged=!1:e.sandboxUuidsChanged=!0}))},createForm:function(){var t=this,a={mapPropsToFields:function(){var a=t.$store.app.details.application_xapp_debug_device_uuidv4_bin?e.from(t.$store.app.details.application_xapp_debug_device_uuidv4_bin).toString("hex").toUpperCase().split("").reduce((function(e,t,a){return e+=t,[7,11,15,19].indexOf(a)>-1&&(e+="-"),e}),""):"";return{devUuid:t.$form.createFormField({value:a}),xAppDestinationUrl:t.$form.createFormField({value:t.$store.app.details.application_xapp_url}),sandboxUuids:t.$form.createFormField({value:t.$store.app.details.application_xapp_debug_devices_uuids}),xummLoader:t.$form.createFormField({value:1===Number(t.$store.app.details.application_xummloader||0)}),xummEvent:t.$form.createFormField({value:1===Number(t.$store.app.details.application_no_netswitch_rld||0)}),xummNoMon:t.$form.createFormField({value:1===Number(t.$store.app.details.application_no_monetization||0)})}}};this.form=this.$form.createForm(this,a)},handleSubmit:function(e){var t=this;e&&e.preventDefault(),this.form.validateFields(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a,s){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return t.$message.error("Please check all required form fields"),e.abrupt("return");case 3:return Object.assign(s,{xAppNetworks:t.$store.app.details.application_xapp_networks}),console.log(s),e.prev=5,e.next=8,t.$store.api("POST","console/xapp/"+t.$store.selectedApplication+"/debug",n({},s));case 8:r=e.sent,console.log(r),t.tempxAppUrl(t.form.getFieldValue("xAppDestinationUrl")),t.tempDebugId(t.form.getFieldValue("devUuid").toUpperCase().replace(/[^A-F0-9]/g,"")),t.tempsandboxUuids(t.form.getFieldValue("sandboxUuids").toUpperCase()),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](5),t.$message.error("Error updating your application"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t,a){return e.apply(this,arguments)}}())},fetchStats:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$store.app.details.application_xapp_identifier){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.$store.api("GET","console/xapp/"+this.$store.selectedApplication+"/xapp-events").then((function(e){t.pending_events=null===e||void 0===e?void 0:e["event_count"]})),e.next=6,this.$store.api("GET","console/xapp/"+this.$store.selectedApplication+"/stats");case 6:this.stats=e.sent,Object.keys(this.stats).length>0&&console.log("xApp Stats updated, all time #",this.stats.all_time.c),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),this.$message.error("Error fetching xApp Stats"+(e.t0.reference?" (".concat(e.t0.reference,")"):""));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}()}}}).call(this,a("b639").Buffer)},d2d0:function(e,t,a){},d531:function(e,t,a){"use strict";a("6afe")},da0a:function(e,t,a){},dadd:function(e,t,a){"use strict";a("052b")},e8a4:function(e,t,a){"use strict";a("e8fa")},e8fa:function(e,t,a){},f636:function(e,t,a){"use strict";a("2702")}});
//# sourceMappingURL=app.192db307.js.map